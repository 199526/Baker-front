#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yW32/bNhDH3/VXXFXCtYsyqlPkxYaLeoi6FQgcIG2RAUkm0NJJIiyTKn8kKer87wNpVbZje3G2h2HLU0R+78z73oc6vXwRTbmIpkyXQYBpKSH8LK1KuSgg1ZiUWNWodJJxbZQ80iXkUsHXqRXGhkEQsNrMmZpdjs+4sPfjAoXp9uBHAADg05Fuxgz23pBuKbURbI69N6ANU2a8HQoh6Yc+9o5xk+RSJaw2SSXTmfbLCo36ns6zhOdJznhlFUL/+C2cwPEJsNpQlxFIH+5Y5bIyn3WxgGsfznO4uvI/AqMRhKWsshBuboZgShRe4c99zw2Q+OIi+e387DS5HJ99mnz9ffxrPPmyrKt6lMeKJzNdxGfx+HO8J2POnzAMRbbXrocg2HarbcJdySuE3GpUEN0yFVV8GmX1rIicbrXEahNVXBu9tp6ytES/w1Ra8ltsNt9HGd5GwlYVHL/v9IeQyVXJroZXl4wbh5CDRWGFTCPI3HUI/PFetXpdIdbwzj9nUmDw4JhKCjSJrZ0TbSWu9xz1qP/WPzrVUpFIa2prRpGZ1+60tEBDl1tH0pqlw1IBBy6AdDV+gz6QJl1v4/R7sFv2spbKwGn8y6fxJPl4cT75Ek9OR0IKLgwqlhp+i63aOQyUplLkvHCUUgaU5lKl6BczzFttc2SgOdDvwIU2rKra3RfQ/SlY1uQ9hwUYRCBbLsACCoU10BjCP7pXl/HN4Oh1b9G9wvhGqaPXPRL2oNNpLoT7S5nZlafTgalCNlvdnv3idttdDCAcKH5rHYbHt6JpplUC+it7K40NDCftYnMvPBctXPE9ptZgBo9sIRwMn6Pe9/5YgdVYvEUW6Q+Xgf4cI3I89BmlNSPybgi65Ln3ZfOf/wxfTdlAJZzWs2IwOK8Nl0IPBqNwPda/yygVkjYRVGEq53MUmXaEkh8fHvbg8c/6v6FYskBW/djY3XxHPBOY1oj9NV6H5MN12DI1fBqq2qpi+2X1P0fKF30gUP8+OIfR0dT0dxhwX0mJrQvFsp8obEwtp1vX7JxcTkAbQTO/DkBhDwaHI3Bo+/dPq/b7S5fyzn0R+dW1+bVemQt+PMh2WPO8cdZOp12ZtsH7K3lwIJUbPG4NMU9cw9tu2jY8WRthOzl7GZ9/DP4MAAD//wot+8SzCwAA


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SQ34/SQBzE3/evmGxWaSNfC/p2CZgLNAYTqYGS3IMJWbZfoVq7dX9cUM//3QCeXNQQr0/dndn5ZCbb1G220X6HzHYh09+i48zYNui6Zeezztnb2te2fe53GI+R3WqXNXZ772yiD+zobGvsFi/GT4civ5mV60kxzUfqlfBffeDPJjQgai11essO1MAHHaLHp7jhhsP/AMh4JhtDF8OZVazKd6typJId6wpk8HIwGEA+MkumYlleL8p1OXubj1TCZmch1Slc4g4mBlCFXr8H+gAa4g4n4DAV+U0+WZWzYr6erhbXh5/7BJUkKql0YDx74lMQfp2oglRnoDzKaZoK8WZZzNfLcjGbvx6pBB+/gFq8F/jrI9JuCzaQ6vfc8oLTdg/6XAh0kBf16gj8s/C/n/S+5/s6TGzFV1Bs+iiOg19B2a6P3DnrDoLrI9+zmUanQ23bw1X1o4dUnDZ8MIngfR1wLvwzAAD//3J4YiDDAgAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySz0/bThDF7/4rRhGH7/ewbOmPS5EPUAyNiCjCQRxChNbrgYyynnV3Z0No6f9emRAgYKT6ZM++z5vn1ZucM8k0O8BoA7VCnvPjVKFDyb55rqmbnBqZFUuKEnOdYtDOW+N0Raznj9Ism5QYFmRxmp1hFBMkN+7W3MWs4AUFzw2yHJLDXKNYXeO1SU6e+DJZizEWS5JSjKSY73z+lBVLtGXndRowf9hXmTgD7VvR5lcKqK1nMcQY4tpqO856uGZeUwDVgl6YoB1VT5v/RWuZ3suiLAzoGiaw9V/jEwvcw03AFi4HrzddDuAebi0o9z8oh/ABprALMkOG1doHXKmKuH4T8+1gF65p0Jf+0aYxc1RxZgK+dcs2OaVjR2IlpnIYQQmw6TwcRemVUvtayqnBQHYNPVPvNAYuM3h8lELu3FTEsMCwccK+RuVMhS7mg63fx+f7xagYX538OCiuRnv7xaj8M9gAFvlHUOqpFiokFmowD9h4QVDrgQr4M2EU1X34JPnOl6YPVMh164klT0zLr1rrkPi5dvWL1+3o7XwzjHepQdW6dEOsagqr8ndXEBgFo14pVoL4gt1a/+nhaO+o7Ds4K46G5bg4e7iLnvHFcPz9arw3PBmXWTYZchTj3DS7MCxY79/lTXJCKkUM22LCDcrfAAAA//8PqjOJCQQAAA==




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";







- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = "oss/kubernetes/pause:1.3.1"
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
      
      [plugins."io.containerd.grpc.v1.cri".cni]
        bin_dir = "/opt/cni/bin"
        conf_dir = "/etc/cni/net.d"
        conf_template = "/etc/containerd/kubenet_template.conf"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "127.0.0.1:10257"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF


- path: /etc/systemd/system/ensure-no-dup.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/zyNvUoEQRCE83mKBuO9AfMNDjxTwcXouGB+ar3GvZ6hu0fEpxeV26z4qqjv/Cbsl/AEK8rducl8rJUq6uiE7ClvIB0bjNam9DEyBE5Zub6DWKhru7GV0YbRrVWE4+rQuTTxxAKtB4N+crkXvw8bfKfn5T9cwivMk/rcZFoTb0NxRwvK/BhOXyjL3yJmlpiTXSm27jF9D0XcjRYhNhSTtKmOfrBreDi9PIefAAAA//+1G3Iw6wAAAA==

- path: /opt/azure/containers/ensure-no-dup.sh
  permissions: "0755"
  owner: root
  encoding: gzip
  content: !!binary |
    H4sIAAAAAAAA/7xVXU8bRxR9319xWCMVN1ovpJHSUtHKAiqhhmAFeAIeZmeudwdmZzbzYeKC/3s163Vih01KKiVv9nycc8+5d88MtvJC6rxgrkqSASzVZkbwlXSQU9wTmCVoA2V0SRbBSV2isaaWjgcTHAorRUmojSBMjQU32jOpyYpkgILxu9KaoMV+xCrJQ4RGSc48CTSM35F3mFpTozEC3sCRnUlOJ5NIXxhftQUYDV8RHKtjMYKwYzQt78V1XtjdVSFMC2xsRmDZQHpHaoqZZLgjq0lBBIqM62JaFQVFjUYPk0Es2lUmKIGpVJ4sTPAt6keKJXwy6DxzoA+MezXHfcU87kJBKqo25Fp7hOF3ZF0l6xdxT5NPBqi8b9x+npfSV6EYcVPncdNq8uTWfzZBqfzlr6/3XicJFZ4Vihwyvyoue4Px3+fZ0fHR5SSbvDs7PTk/xMs/ckGzXAelEjnF1RW2/0RG77GLm5vfoxidAADxyiB9et8GRWDKEhNzOPLp8vQH6bGbTGWHuYVsipw8z7mWuSY/EvnebvZpGrK4xo2eKul8HzPXMg7PVJbQxiM0mJMfjUaRKTaEmFXzNfK9SJ4su/6W1XSwvcOZ/4Ya8Ijb98gs0lGjQim1u7rBIxwp4n5n5OcN4eAA1+mS4zod4hGj5Z90mHRzc2rEj6JeY0yHne/p9sPa8iLF1gFSbwOlfR5338j2wyfbFq3bUj/5Dr5ifdv3jca7ucu5Ys5F7fkGfs6EsOTcN9XzzO537T+ZHGzvyAaRKX6v958hPqK01CA7NkilJo+dq93st5ufr0fDh18Wy9/pxqm+AyvLs3+i6yvmxfONbkMgqqvYLAYVZDN7hc6e/9TaGHEeCk1+LIT9QRMnG1aPXMv6mfyNavo94G1uRr2CPNla6u5hiQn+k+uSk9VYEsAyXXah+mUhzwyE0/HhyqJnjOYwSZYlMyEi8tMQ7MIWvGJSp73Z+7bn2iB2F5rue/ZaqF6kcc/prMHJZPYKmfs4VKfjwwUygxn56gWyTDaZsxxro4nsFuPDw+PJxXfh2ZyBSHb07mzyBaqzy4vJ5UVb0Vdsah8bb1anW49wG+omLj65uGqbCb4Jvh0KTfdqHuFI9BBFeLff3783K9L1B/P/PLJdRA6Oz/76NwAA//+rs4yxXgkAAA==




- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
