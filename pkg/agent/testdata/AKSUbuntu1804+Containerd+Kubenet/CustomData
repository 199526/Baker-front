#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yW32/bNhDH3/VXXBXCtYsyqlPkxYaLeoi6FQgcIG2RAUkm0NJJIiyTKn8kKer87wNpVbZje3G3h2HLU0R+78z73oc6Hb2IplxEU6bLIMC0lBB+klalXBSQakxKrGpUOsm4Nkoe6xJyqeDL1ApjwyAIWG3mTM2uxudc2IdxgcJ0e/A9AADw6Ug3YwZ7r0m3lNoINsfea9CGKTPeDoWQ9EMfe8+4SXKpElabpJLpTPtlhUZ9S+dZwvMkZ7yyCqF/8gZO4eQUWG2oywikD/esclmZz7pYwI0P5zlcX/sfgdEIwlJWWQi3t0MwJQqv8Od+4AZIfHmZ/HZxfpZcjc8/Tr78Pv41nnxe1lU9yWPFs5ku4/N4/CnekzHnzxiGIttr12MQbLvVNuG+5BVCbjUqiO6Yiio+jbJ6VkROt1pitYkqro1eW09ZWqLfYSot+R02m++iDO8iYasKTt51+kPI5KpkV8PLK8aNQ8jBorBCphFk7joE/ngvW72uEGt4658zKTB4dEwlBZrE1s6JthLXe4561H/jH51qqUikNbU1o8jMa3daWqChy61jac3SYamAAxdAuhq/Qh9Ik663cfo92C17WUtl4Cz+5eN4kny4vJh8jidnIyEFFwYVSw2/w1btHAZKUylyXjhKKQNKc6lS9IsZ5q22OTLQHOg34EIbVlXt7gvo/hAsa/KewwIMIpAtF2ABhcIaaAzhH93rq/h2cPyqt+heY3yr1PGrHgl70Ok0F8L9pczsytPpwFQhm61uz35xu+0uBhAOFL+2DsPTW9E00yoB/ZW9lcYGhtN2sbkXnosWrvgBU2swgye2EA6Gz1Hve3+swGos3iKL9IfLQH+OETkZ+ozSmhF5OwRd8tz7svnPf4avpmygEs7qWTEYXNSGS6EHg1G4HuvfZZQKSZsIqjCV8zmKTDtCyff3j3vw+Gf931AsWSCrfmzsHsHmW+InkWmt2F/lTUje34QtVcPnsaqtKrZfV/9zqHzRByL176NzGB1NTX+HAfedlNi6UCz7gcLG3HK6dc3O2eUEtBE0E+wAFPZgcDgCh7Z//7xqv8B0Ke/dN5FfXZtg65W54KejbIc1PzfQ2vm0K9M2eH8lDw6kcoPHrTHmiWt4203bhidrQ2wnZ0fxxYfgzwAAAP//m+/sg7ULAAA=


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SQ34/SQBzE3/evmGxWaSNfC/p2CZgLNAYTqYGS3IMJWbZfoVq7dX9cUM//3QCeXNQQr0/dndn5ZCbb1G220X6HzHYh09+i48zYNui6Zeezztnb2te2fe53GI+R3WqXNXZ772yiD+zobGvsFi/GT4civ5mV60kxzUfqlfBffeDPJjQgai11essO1MAHHaLHp7jhhsP/AMh4JhtDF8OZVazKd6typJId6wpk8HIwGEA+MkumYlleL8p1OXubj1TCZmch1Slc4g4mBlCFXr8H+gAa4g4n4DAV+U0+WZWzYr6erhbXh5/7BJUkKql0YDx74lMQfp2oglRnoDzKaZoK8WZZzNfLcjGbvx6pBB+/gFq8F/jrI9JuCzaQ6vfc8oLTdg/6XAh0kBf16gj8s/C/n/S+5/s6TGzFV1Bs+iiOg19B2a6P3DnrDoLrI9+zmUanQ23bw1X1o4dUnDZ8MIngfR1wLvwzAAD//3J4YiDDAgAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySz0/bThDF7/4rRhGH7/ewbOmPS5EPUAyNiCjCQRxChNbrgYyynnV3Z0No6f9emRAgYKT6ZM++z5vn1ZucM8k0O8BoA7VCnvPjVKFDyb55rqmbnBqZFUuKEnOdYtDOW+N0Raznj9Ism5QYFmRxmp1hFBMkN+7W3MWs4AUFzw2yHJLDXKNYXeO1SU6e+DJZizEWS5JSjKSY73z+lBVLtGXndRowf9hXmTgD7VvR5lcKqK1nMcQY4tpqO856uGZeUwDVgl6YoB1VT5v/RWuZ3suiLAzoGiaw9V/jEwvcw03AFi4HrzddDuAebi0o9z8oh/ABprALMkOG1doHXKmKuH4T8+1gF65p0Jf+0aYxc1RxZgK+dcs2OaVjR2IlpnIYQQmw6TwcRemVUvtayqnBQHYNPVPvNAYuM3h8lELu3FTEsMCwccK+RuVMhS7mg63fx+f7xagYX538OCiuRnv7xaj8M9gAFvlHUOqpFiokFmowD9h4QVDrgQr4M2EU1X34JPnOl6YPVMh164klT0zLr1rrkPi5dvWL1+3o7XwzjHepQdW6dEOsagqr8ndXEBgFo14pVoL4gt1a/+nhaO+o7Ds4K46G5bg4e7iLnvHFcPz9arw3PBmXWTYZchTj3DS7MCxY79/lTXJCKkUM22LCDcrfAAAA//8PqjOJCQQAAA==




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";







- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = "oss/kubernetes/pause:1.3.1"
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
      
      [plugins."io.containerd.grpc.v1.cri".cni]
        bin_dir = "/opt/cni/bin"
        conf_dir = "/etc/cni/net.d"
        conf_template = "/etc/containerd/kubenet_template.conf"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "127.0.0.1:10257"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF


- path: /etc/systemd/system/ensure-no-dup.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/zyNvUoEQRCE83mKBuO9AfMNDjxTwcXouGB+ar3GvZ6hu0fEpxeV26z4qqjv/Cbsl/AEK8rducl8rJUq6uiE7ClvIB0bjNam9DEyBE5Zub6DWKhru7GV0YbRrVWE4+rQuTTxxAKtB4N+crkXvw8bfKfn5T9cwivMk/rcZFoTb0NxRwvK/BhOXyjL3yJmlpiTXSm27jF9D0XcjRYhNhSTtKmOfrBreDi9PIefAAAA//+1G3Iw6wAAAA==

- path: /opt/azure/containers/ensure-no-dup.sh
  permissions: "0755"
  owner: root
  encoding: gzip
  content: !!binary |
    H4sIAAAAAAAA/7xVXU8bRxR9319xWCMVN1ovpJHSUtHKAiqhhmAFeAIeZmeudwdmZzbzYeKC/3s163Vih01KKiVv9nycc8+5d88MtvJC6rxgrkqSASzVZkbwlXSQU9wTmCVoA2V0SRbBSV2isaaWjgcTHAorRUmojSBMjQU32jOpyYpkgILxu9KaoMV+xCrJQ4RGSc48CTSM35F3mFpTozEC3sCRnUlOJ5NIXxhftQUYDV8RHKtjMYKwYzQt78V1XtjdVSFMC2xsRmDZQHpHaoqZZLgjq0lBBIqM62JaFQVFjUYPk0Es2lUmKIGpVJ4sTPAt6keKJXwy6DxzoA+MezXHfcU87kJBKqo25Fp7hOF3ZF0l6xdxT5NPBqi8b9x+npfSV6EYcVPncdNq8uTWfzZBqfzlr6/3XicJFZ4Vihwyvyoue4Px3+fZ0fHR5SSbvDs7PTk/xMs/ckGzXAelEjnF1RW2/0RG77GLm5vfoxidAADxyiB9et8GRWDKEhNzOPLp8vQH6bGbTGWHuYVsipw8z7mWuSY/EvnebvZpGrK4xo2eKul8HzPXMg7PVJbQxiM0mJMfjUaRKTaEmFXzNfK9SJ4su/6W1XSwvcOZ/4Ya8Ijb98gs0lGjQim1u7rBIxwp4n5n5OcN4eAA1+mS4zod4hGj5Z90mHRzc2rEj6JeY0yHne/p9sPa8iLF1gFSbwOlfR5338j2wyfbFq3bUj/5Dr5ifdv3jca7ucu5Ys5F7fkGfs6EsOTcN9XzzO537T+ZHGzvyAaRKX6v958hPqK01CA7NkilJo+dq93st5ufr0fDh18Wy9/pxqm+AyvLs3+i6yvmxfONbkMgqqvYLAYVZDN7hc6e/9TaGHEeCk1+LIT9QRMnG1aPXMv6mfyNavo94G1uRr2CPNla6u5hiQn+k+uSk9VYEsAyXXah+mUhzwyE0/HhyqJnjOYwSZYlMyEi8tMQ7MIWvGJSp73Z+7bn2iB2F5rue/ZaqF6kcc/prMHJZPYKmfs4VKfjwwUygxn56gWyTDaZsxxro4nsFuPDw+PJxXfh2ZyBSHb07mzyBaqzy4vJ5UVb0Vdsah8bb1anW49wG+omLj65uGqbCb4Jvh0KTfdqHuFI9BBFeLff3783K9L1B/P/PLJdRA6Oz/76NwAA//+rs4yxXgkAAA==




- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
