#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yW32/bNhDH3/VXXFXCtYsyqlPkxYaLeoi6FQgcIG2RAUkm0NJJIiyTKn8kKer87wNpVbZje3G2h2HLU0R+78z73oc6vXwRTbmIpkyXQYBpKSH8LK1KuSgg1ZiUWNWodJJxbZQ80iXkUsHXqRXGhkEQsNrMmZpdjs+4sPfjAoXp9uBHAADg05Fuxgz23pBuKbURbI69N6ANU2a8HQoh6Yc+9o5xk+RSJaw2SSXTmfbLCo36ns6zhOdJznhlFUL/+C2cwPEJsNpQlxFIH+5Y5bIyn3WxgGsfznO4uvI/AqMRhKWsshBuboZgShRe4c99zw2Q+OIi+e387DS5HJ99mnz9ffxrPPmyrKt6lMeKJzNdxGfx+HO8J2POnzAMRbbXrocg2HarbcJdySuE3GpUEN0yFVV8GmX1rIicbrXEahNVXBu9tp6ytES/w1Ra8ltsNt9HGd5GwlYVHL/v9IeQyVXJroZXl4wbh5CDRWGFTCPI3HUI/PFetXpdIdbwzj9nUmDw4JhKCjSJrZ0TbSWu9xz1qP/WPzrVUpFIa2prRpGZ1+60tEBDl1tH0pqlw1IBBy6AdDV+gz6QJl1v4/R7sFv2spbKwGn8y6fxJPl4cT75Ek9OR0IKLgwqlhp+i63aOQyUplLkvHCUUgaU5lKl6BczzFttc2SgOdDvwIU2rKra3RfQ/SlY1uQ9hwUYRCBbLsACCoU10BjCP7pXl/HN4Oh1b9G9wvhGqaPXPRL2oNNpLoT7S5nZlafTgalCNlvdnv3idttdDCAcKH5rHYbHt6JpplUC+it7K40NDCftYnMvPBctXPE9ptZgBo9sIRwMn6Pe9/5YgdVYvEUW6Q+Xgf4cI3I89BmlNSPybgi65Ln3ZfOf/wxfTdlAJZzWs2IwOK8Nl0IPBqNwPda/yygVkjYRVGEq53MUmXaEkh8fHvbg8c/6v6FYskBW/djY3XxHPBOY1oj9NV6H5MN12DI1fBqq2qpi+2X1P0fKF30gUP8+OIfR0dT0dxhwX0mJrQvFsp8obEwtp1vX7JxcTkAbQTO/DkBhDwaHI3Bo+/dPq/b7S5fyzn0R+dW1+bVemQt+PMh2WPO8cdZOp12ZtsH7K3lwIJUbPG4NMU9cw9tu2jY8WRthOzl7GZ9/DP4MAAD//wot+8SzCwAA


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SQ34/SQBzE3/evmGxWaSNfC/p2CZgLNAYTqYGS3IMJWbZfoVq7dX9cUM//3QCeXNQQr0/dndn5ZCbb1G220X6HzHYh09+i48zYNui6Zeezztnb2te2fe53GI+R3WqXNXZ772yiD+zobGvsFi/GT4civ5mV60kxzUfqlfBffeDPJjQgai11essO1MAHHaLHp7jhhsP/AMh4JhtDF8OZVazKd6typJId6wpk8HIwGEA+MkumYlleL8p1OXubj1TCZmch1Slc4g4mBlCFXr8H+gAa4g4n4DAV+U0+WZWzYr6erhbXh5/7BJUkKql0YDx74lMQfp2oglRnoDzKaZoK8WZZzNfLcjGbvx6pBB+/gFq8F/jrI9JuCzaQ6vfc8oLTdg/6XAh0kBf16gj8s/C/n/S+5/s6TGzFV1Bs+iiOg19B2a6P3DnrDoLrI9+zmUanQ23bw1X1o4dUnDZ8MIngfR1wLvwzAAD//3J4YiDDAgAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySz0/bThDF7/4rRhGH7/ewbOmPS5EPUAyNiCjCQRxChNbrgYyynnV3Z0No6f9emRAgYKT6ZM++z5vn1ZucM8k0O8BoA7VCnvPjVKFDyb55rqmbnBqZFUuKEnOdYtDOW+N0Raznj9Ism5QYFmRxmp1hFBMkN+7W3MWs4AUFzw2yHJLDXKNYXeO1SU6e+DJZizEWS5JSjKSY73z+lBVLtGXndRowf9hXmTgD7VvR5lcKqK1nMcQY4tpqO856uGZeUwDVgl6YoB1VT5v/RWuZ3suiLAzoGiaw9V/jEwvcw03AFi4HrzddDuAebi0o9z8oh/ABprALMkOG1doHXKmKuH4T8+1gF65p0Jf+0aYxc1RxZgK+dcs2OaVjR2IlpnIYQQmw6TwcRemVUvtayqnBQHYNPVPvNAYuM3h8lELu3FTEsMCwccK+RuVMhS7mg63fx+f7xagYX538OCiuRnv7xaj8M9gAFvlHUOqpFiokFmowD9h4QVDrgQr4M2EU1X34JPnOl6YPVMh164klT0zLr1rrkPi5dvWL1+3o7XwzjHepQdW6dEOsagqr8ndXEBgFo14pVoL4gt1a/+nhaO+o7Ds4K46G5bg4e7iLnvHFcPz9arw3PBmXWTYZchTj3DS7MCxY79/lTXJCKkUM22LCDcrfAAAA//8PqjOJCQQAAA==




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";







- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = ""
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "127.0.0.1:10257"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Standard_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
