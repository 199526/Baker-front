[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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







- path: /usr/local/bin/configure_azure0.sh
  permissions: "0544"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SU0W/bNhDG3/lXfJGFqsVmyR720CQQBsF2N6ONEsTZiiFwDVqiLM4KqZJUPNf2/z5QchS5W7ZhexN0d9/9+N2RvbOg0ipYchEw8Ygl1TkhPUyNpyFFsYVgCdOaqi2MRCJFxleVYqBfKsUG4AI/LythKgzf+oPvSaGXC8UKRjVDn2MPulmj/8678ODtSsWFgfvdwWv+ezt3GLrDSxwDw4OHPVaKleh/5nA+VbW06xCe4R7uDzgLMcD8EiZnggAAS3IJb2rANYQ0TzCzNS9bWC5WR1yvqfmdGwxIxskprvo/uHA+1Q78B9i6zv/XzD2McpaswTOr3GQhEfxYa8VNzhTzfR9CQjCW2tGpSsDkXEMnipfGlgtpSA9RoSVSKTyDDRXmJHeTM1GjVrol6ieCk3ucoZ8hYCYJEsEDwYyfBsNBv07xLUrBtcEcr149wVvyeArD6AMemDBcCotKTdPraIrlZSkyqZDQgif2BGYj1RqlLHiy/YuzkNpYJz7Ju4C7iyd3H69v3y9urj9MR78emtHcw/lzBGEIp+nnYH4ytL93foCl4umKWXxaKEbT7fMtSUkPH9nR3O4geAYtfcJLFFysoXO5eZLr+KUqsSiLasXF6zfYHWlKqYz1cTG6vrqK4nHoDutIQs0/j2OP3z7D8wV9YKAabv2xh58I/gtTmktR/348fu/hN/31/fybEDubftFUfYvnmou24tAtGczt/QhkaWom+8Q0C/QomCEHQjqHiW5/nIXe+7ezxc31eBFHV5PZTTSahCnLaFWYy24kbP2NrNwonnrkxJf4LprGk9vpODw/Pz/vxuLJXTwLA1UJa5HQQStFv9i17qRO39W9mMm/FrmJ7n4Ku8cidpC1Hmiawn29pJrV1rq7tuvhTWeeiMZj0j4U/ZX56qVo9VJWwHlJ0Hle0GG9oJ0G48kHcqLyItUfAQAA//+8Xj4iAgYAAA==

- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SUT2/bOBDF7/oUhJHD7oGSnXiLdAsekq3aDRp0i8hFD0kgUNREIkwNtZyh4+x2v/tC/pPWjoumqE/28P3eGw/Iuf6Ilm+T10Am2J6tR/UuVuCAkz881naofNDc5ktLTCqLFDLnjXZZZTGbb6RJcl1AWFgDt8kVEOvASrt7/UBJjgsbPHaA/MY6UBmwyWq409HxI19EY4AoX1ouWHMkNZmeJPkSTDF4fQigVnmVplZkvudM/xMDZMYja4sQaGuVUnuA6+a1DUL2IlvokDlbPSY/R2vQfqsXacTI3olrcfRL5yOy+CyaAL24Ge0n3YzEZ3FvhHS/CulAjMWteCW4BRTr2BUuZWWxftLm08IrcWdHh7rf2HR6DpJaHeCpW5LsgTSQ9ECGnZD3AoFT2y+mKZu+DMDBAh2r0+9DxgdIyXd6aTyimrw4OZ3+QFSnlyU9YFlpM3e+eS6/Su2ASDdQGk+spuMfpKoYiNXp+LmDQbBNm25ucdqYktsA1E7UdPzyxc95HKvTycvjn/M42Yxu10WubaBiXTkgIVmgHu6Ks8QHpbbfl2LsIFizhfbntbsdjMc728QA5eq1joe3+QX4xi4RN4nYfKQEHPIlQVhA2DlBX4N0ugJHanT077uP5/llPivf//U6Ly/PzvPL4r/RDrBQx0LKx4UhQ0S2HagAnWcQcluQAf6OQCyHHz6ymvzWHQIlYN17i6wi2uXvWZaFiF8WUv3V15S8me82413sQPYuNhZlbcN6LQ4jCAgMlK0VawF9xR5t/+mby7O3xaGDq/ztRTHLr1azOFD+dDH7s5ydXbyfFUlyfYHE2rnb5JNGhvr8QXXRsZWRIKSsQwP8fwAAAP//u1qvbCMGAAA=



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";








- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
        sandbox_image = "oss/kubernetes/pause:1.3.1"
        [plugins."io.containerd.grpc.v1.cri".containerd]
            [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
                runtime_type = "io.containerd.runtime.v1.linux"
                runtime_engine = "/usr/bin/nvidia-container-runtime"
            [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
                runtime_type = "io.containerd.runtime.v1.linux"
                runtime_engine = "/usr/bin/nvidia-container-runtime"
    
    [plugins."io.containerd.grpc.v1.cri".registry.headers]
      X-Meta-Source-Client = ["azure/aks"]
    [metrics]
    address = "127.0.0.1:10257"
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promisMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF



- path: /etc/systemd/system/nvidia-modprobe.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=Installs and loads Nvidia GPU kernel module
    [Service]
    Type=oneshot
    RemainAfterExit=true
    ExecStartPre=/bin/sh -c "dkms autoinstall --verbose"
    ExecStart=/bin/sh -c "nvidia-modprobe -u -c0"
    ExecStartPost=/bin/sh -c "sleep 10 && systemctl restart kubelet"
    [Install]
    WantedBy=multi-user.target


- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Standard_LRS,accelerator=nvidia,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]