#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yXYU/jNhjH3+dTPJezuPaEKeUOXlD1dj01bEgMJu5OTAIWucmTxGpq52yHgoDvPtkNaUPbUbYX09Y3UPvvx37+/tmP+/ZNZ8RFZ8R05nkYZRL8r7JUERcpRBrDDPMClQ5jro2SOzqDRCr4PiqFKX3P81hhJkyNLwYnXJS3gxSFabXh3gMA4AlcXgJpcT04//XgYxv6fejC9XUPTIbCSezn7ZTldjCzg4Fr4EIblucYgxTA1OTgI5RuQhgxjSD1NoxKA0IaYBpYYaBg0ZilWIdUaEo1myHh7o9LjbRiZrC9TVqZ1EawCba3QRumzGA5DfBJ13djp4ybMJEqZIUJcxmNtVdNou6iSRzyJEwYz0uF0N3bhX3Y27erojYikC408nt4gKsFd+wk1hc/k3nsL5uDt9wACc7Pw1/OTobhxeDk+PT774Ofg9Nvs7zyZ3FK8WKk8+AkGHwN1kR80TAU8Vq7Hj1v2a0aiGnGc4Sk1Kigc8NUJ+ejTlyM047VzZtYYTo510YvtEcsytD1MBVl/Aarzk+dGG86osxz2Pu01e1BLOcp2xzeXTBuLM4WXIU5OoYSx41b3rtar3PEAj6477EU6D1avsMUTVgW1ok6E7v3HHW/u+u+WtVMEcrSFKXpd8yksKulKRo669qRpZk5LBVw4AJIS+MP6AKpwrUbq1+D3WwvC6kMDIMvx4PT8Oj87PRbcDrsCym4MKhYZPjN/DRYh4HSSIqEp5ZSyoDSRKoIXWOMSa2tlgw0AXr3dBLr3jfQehLMcnKewwMYRCBLLsADpAoLoAH4f7QuL4Lrw5337YfWJQbXSu28bxO/DVtb1YGwn4iZVXG2tmCkkI3np2e9uO62BwMIB4o/aofh+amY3xbQnduba6xg2K8bq3PhuKjhCm4xKg3G8MwWwsHwCep198ccrMriJbJItzcb6NbRJ3s9F1GWpk8+9EBnPHG+NP/5z/BVpQ1UwrAYp4eHZ4XhUujDw76/ONbdZZQKSasRVGEkJxMUsbaEkvvPj2vw+Gf731DMWCDz/Wj0Nu+IVwJTG7E+xyuffL7ya6Z6L0NVlCpdvqz+50i5pDcE6t8HZzM6qpz+DgP2xRaWRapY/IRCo2pZ3aJmZeWyAloJqvq1AQprMNgcgU23f321qt9fOpNT+yJyrQv1azEzO/h5IVthzevKWV2dVkVaBu+v5N6GVDZ4XCpijriKt9W0NTxZKGErOavcHuLot9nr+0jJyRHP5/fOMPgSHh2fBH3SffU72j6jD3Z35zt8Zzf56bIk90+xH4FSludySmM5FW7levHHx09ABcLu8nO44VXCvUfvbXB25P0ZAAD//8A96AsQDQAA


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/7SUb2+bPhDHn/MqTpZ/vwYNl257Fimd0sSKsjTJFEBqpUnIhRNhJZj5TJv+e+9T/qxp0wxt0sYj8H3P3/P5c/QCGQdhdxaGw7Hs8FaqLLqOf5WX/pWiOfi6sr66rw36iS6tyks05FdG3+SU6/KY5nB6Cv6NMn6hs5/KoiaLRuxkhc7gw+n/7x15MQzj3rQvO/yTQ3dkcZHYAoQotahUhgZEAWSVrQmu6yss0P6OgUgIha5tVdud1zQKv0Rhh7fmqFIQCXw8OTkB9od7MdcZydlEnr/q0650mutbEBWM0JRYhPkCyapFBY9AmIJAAEb+XrDj+xmDx0ewpkbXGUQyCOPuQE7CJpNbVeRlvVQZlvaY0NzkCa6c5RKTscrLwCpjDxTAyD8s2StjFJ3Jc7ktIT5cw/ZO/oV9cBmEctyPg2g87s4un71ToUpV3N3jTiovZC8Kh9NJ3I9m3dVLh7cwmWvgrdYGYnj3H7kgYPslUmD8FexsrXBd13E+B9NJHISz4WTQ4S349h1ECV8dePMIoUwGmADjzyCzBqWugPENhk0yNMAa4+nacP/MTSnXBIzvc9uUkBC+7dCv5ZkCxg9y25RFq6r27rnxFNs/AONv2Tycd/Qgl7nt6RTbwDHxYLoe5DZwXXkgjdFmFTDeGtt+bZTNdblaSr3tCD9D2gZ+TR70AvlyKSH0YFAj2e5qEF+GMuVBsGE2qBcLZe7awIk8ONPa9pVVlc5LS214+CtWo013Xm2ybdjT0xG4zmYiXtDt4DK3sGP3RwAAAP//ij9rr/4FAAA=

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/+Rae3PbNhL/X59iS+v8SE3Sdps0davcKLKSaKxIHlpKr5f2NBAJSRhTAAcAZTuy7rPfgE/wIcVJ+sjMuTOuQywW+/hh8cOSe9/YU0LtKRKLRqPTmVx3nXe9TnfSG0xGb69aNgukjT6EHNsuoxIRirmwXdcMOLu7twTmK+Jii9Bo7rBz2R09dipzb7CMZg56k85w8Kr3enLRc1qGjaVru5TYFEvLM6Lxl71BMqi0qsEpofHQxfCXQX/YvrguCXjslvoMecJodJxeZ9TPJHVBTlzp18jmC4aC2z5zkZ8sORyM2r1B17moXzl11dOVOuNBp1ach9TVBS+fX9fK3YRTzCmWWOjS45fjwWg8cbr9bvu622oe+mI64djHSGAwOZjiqDHq9rtXQ2d0Mbnqj18rr6pRkNjHAeOyYHNl4taQXDrj61G/O5q86zrXveGgZaxOrBPr1Gg0XB8jGgadLCoX/iviY3F4BOsGAABfgsln0NwW1sam0SBUSOT7mRInpJIscaYj+qV+sLtgYBAKW2aACZfjl11n0B11r1NroQXNdfXxxsjUkhkIvFxh3mHLAHFcLw/GqXV2Zp0YP4FcYJrNVj+ad1mMTq2n1o/GNrGr9qjzJhc+Kwom/l1LRD3kM4rzAENzXV1tA0bhcUH7pqj7EUEsLpDGsGbZXDP2Bf4yF/4CI2ckxlOOuQGWt4zfXPnhnNAMcGQG79+rkA66o1+GzmWyQzYGtMCISp4Bv/9ewkGisa2GO4NeQ1swdSJ5mu2JcnWDfWVaukc7g15m0fLGIxzMoGZSNK6ejl7/OyrMzbX6V2zy9WTs9Pf2ntgb2IOxwKAOApiGxJeEwt4eSAYcL9kKA/J9cBeICzg0nhhHEAZqUC4wzAhFPhh2HEiOJb93l95kjuVEIj5VE0/PTuApGFXr7NiaxLaNARXrNvDwAPiOSGh2HWeia5iMem+7w/FIj8olD4X0scxCExUquEkeT0Lut4yFlIE4t23kCnNJOGfcitKGvTm2KJZ2Km7eojmxm+tyidvYPqHhnY2W3rPvi9JG3aoz4uMAyUW5eNZNjdHVPCSi7bx99v0RtFpwWsVTvUf5QZGcA8Ka+mxquYxj65ZQj92KGg8RXz77PvUp+rvGsBlpZAbCN2DOwGhWPDSgbGgGCDKbzBDxQ47hOwWHZyfghtwHc3bdB5PVa9Mehtw3imDI0lJBRLq4u1gyD354+rRee3p6zIiOoXSPfub2ejfojiZf9x6rM/ETN1onok5ZiBLelJ5YzdP46dV40nY6b1rNwzmWnatxm7uLI4C9aOMA4xChrRzkKl/T18iej53+I/ayy4kpGfOFvWqui2Zu1B5EnGCRMEGzKmJGu8JsrlNfNpZE3Jp/MHSbouB24+patTLKfjFzCvkREOE02QtGnd92pi9dIa6R1TU2OlUq5eYTsuCGnGMq32EuCKOt5mEcGDDNVfwIzl7YHl7ZNPR9eACBPThIwwepjG3PD460QlhGRw2B+of1ZGOd6BVwXbRlA63/QiU91cIYc4PUkqoWNoPEWuRzjLz79PzFngXihgQBoXMoRFLNkYjPsYRcb8mQGA4FnrMHckEEEAGM+vfgRmuAF3K1gCuwBe/eXAgQCxb6HizQCqeWpbCEgGPTRe4CeyAYUAYUY08VhXQbWtpqZBbVitXCA49hAZTJglalbIpusHescBhyChhx/z7TUMay8bmbIk9ickw8FtmVZOp8qIL6i55TRwu1mCWOq0DMWEi98y0JLlLgJDinZWKYLzGmAXJvojTGKxAqWW5hclXSqKVEHD7crT4lFmanqrDmXGsWRZKdqNPL3fHbNBoCyzDoDHoXhIstZ16iPS4RC3ZLwXSAMybP1a86GWWf6SQmaqM1yvPb/079FbE8BMVRrRBqh/hfyIGL2P/oeVxBvUbx9UQqEJl3Hx6nVMFHj3selAq9+avpyx8Vnrq71JfGCN9Jjlx5GU7xy6QIZ3G6fH5dJjjqHFPT286vER1pnpUBvq70dDaZsjzoJT01hKGO6lVU2/FyOtUraS6xPF1DgTxHcTQlR1TMGF+2DPFgPXnYN+MF0nPgwQDTFAt2m0tiz6RoiYXKQlTvPm7kb1lmTVNITgLTZcuAUUylaH2nslS8NYHWDqPMw/FNKpxiH8utY2lRVNXwUWZpaHhzH2CulORbpt+bjIbDfoqD5HK3YEtsL1JpM2un2TtaTEGo9S96SzTH0EzVQ3P95terrhMlMSJ5BXAZzegaU2hKpFMNdW80XMnrehEzcKXKb5SpALkYbp4LizDgIQXTVDEylyykEuR9gFtTQr1jwd1WtN6xJ2TyFwskYVREAuf8tmIuJAEcIXEDWacZTBcMNyhl1V4nKTxO0rWB2L0aSrBcJb6naTegcrOOB8yPNPeq2hQdqNWmqNBHtFXaXF9FmDNAgoYX0G70BbPJDDzm3mCuW4mp5PcBI1SCYYC5ijWdR7+r5vw/ZroSs0+O0a406dly042fz/isoOTB+IieHeHIWcVlvOBlLN+mnvrrirO7+1LfND73P2mZagXbGw0vhucp8VAUw2XUI2qbgLvA7g0wWj6cgVEXg3OlOAqdY3UvS5pkng7+w8PmYcTy69v8D+CGEkzPsAwwZ2dH8KIFpz8cHcH+PrwHk4JRPXOrTbEIQlWqsWXNqsYdjfX0HEg73RNnPFAne3IgZG32LbctzbLs2IvPkaLx5XXr58W7ojhVu02VkK0Q+Uk43iZu7FK3A2dbxA3twoG+vSuXs5R61E/W72BbnHuyZaoa2EYpYF/rxuawu3KG/9oGuj2lIXr9qrCPQNwLiZeAPI9RkAsk1WOPuBJJ7MH0Xu0pyZkPgY8oBsGAyKRbQQ8kTH3m3oAiWRBwtiKCMEroPFuujtisU3qSgjq3F/a1Vmx17lbqlQO997b9upvScMj7AaHvq6u6qhIkNaM6aQOhUGKajYWGvGb6dmZV1+x+dgKnirKfbGMDsVHKTO1FaG6YYuyHiS+SLLEHLJSQerXToxVBEBm6v6+3dvOXYJ2Rkn89uRr3+yn/h6OEFGxxPO6YfLLvSQ/qz/IysWqro3HvY6uvWjXb7Udyzv9ZfiQFs+jHxbBz2d2aqHjHcCzR/Mu3jNMdtV/rj7/TdlK0hnJjxtlymxdRI6yk5g/ZWzt3j0Tz+nQ0S6Z8HrbTNt9nraVhK0HP5+hJ06wYz5fn+Q8LPF/W+vBFYeZLskvptnjuMiWOXvQ9yjiIoiZKr4jjBn80lMYP3wWMS30k1hVSN2aa8ectsTonzL8QAP2zlOxzgRz7u6MQTYp0TiSbeIoi4PxNTDwCD4Bub+BgHXB1KWueGudG82xzAA8w5zgAc9VNKUGJ5TQfah9b70/MH3//dsuoWf94YqTrNddalBRLlhwO1H+/0eRNUCV329zcgTYBPhGy4vvX7rbGeLM/YtCpGj9xmYdbzX+WANPMxuCbFpzUwyQ+IzJJLdAZ6soh3hhKn7EFd3Ghr531ALcL4mPgGHlxOn4Cj1UuAZUHdSWrxAQjbZvdqjxGcTmiG32bmrPKhiy2ULXzPHrpenp2AukNvDIzrxbZdaZUNuJL4qGHJD46bh4umJAKtUfHUD8xvkToFQiM/Ob9EZWYep16rbmh2Y370YYKibjs1M6usza6gUQXiMebW1a7yb4KdBSbmGOvZG0C3Ki5fxVOfeJ2fBZ6MWrjlv+CUJQ8rID47y27B/9ZutxCH1TRcql98LcVwscaUleavp7SsQfIv0X3AkKBFQ05BrzCNOpfJ1kR2tv7mumJ2C3x/bRZ9KTd7z8BjmeYY+pioQgrgjmJFCvTehdweP2mfXSsjHYXyTwlx2AZuovqOrUVLiZTn1/bChCJY5u9vM66OGndghnjUN4cVeJTNDHfc3tR37K+bAGiHtRXGGVH8nlF8hlBUoqrZ6Y+mm7IUvGuqdMViWqc606AtGLVj9WV5YpQXTUsnBXVOO3XCZUjtl+XDa/wPbTzke+h2QpzTjycfJzaYXRG5vkdIH4P/qrX7161R2/S7+kVIOLfljubW579/GQSfSc1oVhxB6VDjcSgkSx0F/EFT1cWo9hFEn7+GbrDV/DiRZ2QhyQSLOQuPo8mRLg8z7CMgsC/V8sq65Olz2GGFN67w1eNTWNP/e9/AQAA//+RMpPEmzAAAA==


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/7xae3PbOJL/X58Cx9HtJnVDUc54ZhPfyFUUBXs5lkgNH05y6ykWREIyxnxoANC2LvZ3vwJBUqTevlxd/mBkovvXD3Q30AB/+DdtRlJthth9x7JHMDCtEfwy6L67zxhPUYLBC+CIxEANwYf3ksTSJ7BB8b7TCbN0ThY5xXqUkNRnmL57/60DAADhPVpgoEKgngHVLJ4J6AN1Aj6Jf0DpftNHE9PyXei8Kk2WeHPstdPBKcspdqbGu/dA4rMV4zgJeQxTNIuxnkYuR5QDugxnJI3AywvAz4SDLnScwP3qenBieOPA9XTHC650c3wMRWUc8VNwXhtuuMlnOMbcxfQRUwNTXut74w/hGHqBC51b6ARTx7zVPRjcwK/BVPf+OVA0zEPtIZ9hmmKOmRZiylnxIsacFYC9B7xSdqEZ0PHeABNSrnQKnGyJU8ZisMApZQioWc5B94iq4EP//GOLm+K/gJriJ6A+/9z/BNQIrRj4x0/9PlAf8Oo44E6xtU1AZfnsT6BohjXofqsDUQbG2vMf2ZavT3VyGBOc8rV3eZaH9yIK9wHVAZtkEej/0u+fRJw9pYBmGb8QjyMcBYs+NSuX+cOxaRw1BC1Jc4pbtuwF2zDm/Pw06i1rDrFIc/7Ld2Dwm2tbe4xA/51T3PuTZemm7m3One7fR7Ot5xahLAWYg/94Ln7i8D7bMz+vCngBM8TwL+dAVSMcZhEGlydMf4W5y0v7QY9NQ/EQFKYBhWTLMKf6ODDGJrREJhkO9Abdb0coNO3uTru7u7t7/T/DUwSeIvFCxMGvvwJoX5VGbU2ATFsljLM8Ui6AootAmOazmIRG8e5HScBxilJuFjTdbx60dMsLzNFrNc7yGQspWXKSpRWV6w9dwzGnnmlbTVqEIqPI+5pwn1G7mFwcUsyPMEpv1MwUsyynIb6mWb6UrA50bd8xYHDt2P60poyzEAkbJNHYNnShfT38mHirJZaDt5PA+zqFTRekmFsowbX5VkMHhsOcEr4qdFhTWdD7bDs3QmPfMb2vG/o8tiBvTcfz9XFQMrWonG0bN8iDPTbTLOfYE6vwWpJj+x4MPH04Xhu4pCRBdKU/IhKjGYkJX7lN7aaOOdGdr4F+q5tjfWiOhTluwwUlgBuiGO/kdA19DFssRWBOafZIIkyHKHzI5vNJFpV8xtj2R1PHvjVH0AmGunFjX10FE3sEDwIoF2AP7+sBLgdzSjDbzxw40HNM6B4Cgc/LLMUpP4ACv0xtC1reIZhRTqsw3Qcz8h0ZuwdgfiOcY3oA5DfT86CzE8JBHI9JQnaZ4ugeHJsTc7cNNefvU/cQc/D7dLcva4BhHj7ggwoEQ9+4gcf1+EwJx8eUCT47pgdPUek4nNSrjZgzPEEpWuDIjHDKCV/BZ45TVk2078Jgolv6NRwF5ghankgw+MWDltuY6JxhqjNGFukaxxzJhBH7+kB3XfPaamI06mzOsJkyjtIQTzBHEeKolm1arqdbBgwm0NNHuqe/1lUTRUMUCybqPuRV8dRHwVAfCw4ncG/8WkZEmKg2ds5nWZ5GrqV7hYw2x8h0RfkJbN8b2r41CgRdJRE/h3Ee4QliHNMrmiUuR2mEaDQeFlDwizH2R8Jdrged4MqxJ6JzsEa6MwrGw9e6Isnpu0V53KhHNxM3qOfsVvfHXrnxLdkS9EySPBk3zHbyGBtZXmb2RP9iTvxJICyqDXL8MQwM21+ndiX+Bq8q4Q8fmbI9eotpGQWK2HxD+6reOaly50Tm4F//OlYTwQAojx8U8Mcf/wn4PU4LTgkUAZUARTtUs7RIAfs3jqdhyYpzAtKcyM3h/gav1YQYllk3IcWDYk5XYRIFZB7MEYlzisHZhz74GXz4GSRZtKTZDIMZDVLM5yTmmLYbzoktnDiE64612EeqKVCaTAq4lJYkWZTHmKkiFXqR1qTpCS3bxhiWaU6LJZdtmlG9r82pZ7Zaxqdj/9q05GwWXtsxockj6BqWGQxNKxiZjnbWV6WDhaiYMC6HDdu6Mq8LippVbu7F3n6TZAuk5tnW0R6bhtheDwZACVFMwmyHlnWw/J39oCTFsq7MKIkWWKn/5hSlbImoWDR/WPz9DUrh+LBaipjxfYNplhZ+BX/72wZGlUoD0NLt/9u6Oal/amxGUg3PeBE4QOUgRRyoak0/JyLKyrJ79rF/7hanL5HYM8aPOKpjLWZAjTmVIU2L0Ub0Ir57QHZYo73wgDAwRzHDPeA+kOWSpIueKGPybMnIUo5IimmlxhMiPJhnNJiTuEjaPjiTguWhUVT+r4U1Z0803yTEvUjDzzgMGEeUFwq2s/rKHMPgs+4Z/ww8cwJt3zsoby1Akyna41kSfxckW7GQx71IOztTG/qfqOrBqiahgapK92wdoBneOHCgWJI6jfM3QJiKQk4eMVDVv3KCOYiy8AFTEfnvarKgjB7woQ9+6hdCS7Id53SjYGQbN2LV9+xpUUHfd/Yf+a3dcNKZn4yaSZYSnlFXznu79hu25emmBZ1RMLEt07PXeglXSt8ODkeUmkgBPU4STAvYnZPaPUnYCVN7UO23KFymwv9O5ZOVPT6ZbQ+edpxbnTeXi/3WueIIXhW7sbU/IjwXe7fqnPWA1bswTjJVMJYlWcp9RFSLyaySWfwv68MR8Q2UkyULlR3fEq+rhUGeqpTKZEsu907rWKhPnXvs/gSH7Ef/rkgodWhj1EfN7dsA+aivGyZkMUWUE9HiVtca+8QkZKEuK+LTokwKcYtyWYdYWSBbE90q2J8+fVLlHyp6YOvVb7dzt+FOcuauAv/hfGd9X1vyW5bTFK1N+bbeAhUrs8szihZ4sBRdBONir7FJUSBO0LPP8ODsenPYyVORxHvHrzL6hGjkZe6KxdlisMJMkryCy8v20v2n1DVa+2/fxJYcasXxlrm9+cjEtoJm8TRGKW7upbsOHNq258DffdOBI4EqtneWXTeaxcaa01zs/za2dBTznNYNytE+Qya9NwYfLrUIP2ppHscgjHPRtKoknWcbyfHRFclomdZ1HRSiO6AY8aIkTlBK5pjxEaGt0jjRLfMKut7IdAabfVVS8rCCOnmICAXqUqrW4BOCniiRcoyimLVEyEAuBNxnCda69T2h1hPSNgiL/Om2GLVGiWyrUZM07h66bazGlcJa8sX65y6gE8kb8KLx+YdofHaB1V3RDtatK4yOqqodtCRl434BHs865cSzi45aBcGFxMaUkzkJEccqyvl9RglfqRHi6ALcKV1DL67kzCvT0D14p5QSRR980VpX5IVFB4AUJbhgrY4/fh9Zd4poMzl+5lIB+btUoNRmm0WM5mx7SEVRQtKCYJ+wnIquRq0EbVM8kDS6ADLWOkJIodguuIa0QplSaVLgN5xXu6zhlG3XlYwPeLWT4QZ+vVM6orHfN9Pq87ppN6Tr9JxnLEQxpnoUiUWrTB1j7BdW6L5nF6fbTqCPRrbVWGCaZyCCl2lVhUA1qBrhZZytEpzy3gol8aHN3SGJpy3o5QEOe/lVusocXb503xWB3T1wV1Nfpb1/WShHFNktyMXhCZLk5c73SGP5rGVT+6Lqe5DLe7IGeH1X9j2wdLEGbN/ivAm1jlrdMI0sTXHIs42A1Y3i/MGChmgLDAcWZ8T62B103y0pSfkcKN/ulDIwojtFpM+/szvlR1C9lTd07ZHq/rD9tn1r2B6TPemI0ELJFUyjZUZS7tNY0t1zvmQXmhZnC5L2EhLSjGVznqUxSXEvzJI75ce7+uZPnqvTvShJMV7kV3Xekmg7FbmmaHlfXbZVSlcwCzHYeyJplD2xXop5icH+iie1hFOUCDOKmzgXH8/PfyrBFiiO8QGPlONbhiTfpYF2p7wqQDlUAA4Oy6wVJHVGFPTt3Gvexz+B/vv2xzLV5y4PeAUoQxfn/U+/lN+/pFmEWeszmJ9++Vl+BpPlfOu0ufxqIyRifZJ5IEh7S5zIj2JOYRDvJEf1nczAdzXXGxi6Nh48EspzFFdNor31wt98Y1gbb5QdKXkDvw6670ofvcmsp/77XSkOHe9tgGuzn6oJakMeX+HagKcvbvvkvHldozhily/dvdWuKKb7pG1XZwsl+PJlozS/CUM4dVsh6HhvQnnAqy2QG/j1MMZ6VSg+/shiEq42FoXiuxF5Pn7K7AocdVkA7Zzcpu/qSnr5ojXXA6Zt1gat9RkH03a6e7emxdnSD9C+6vxPAAAA//+R5u4ofikAAA==




- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4yST2/aMBjG7/4UVtTDdnC9f7cqByihQo0AEaodACHHeYFXOE5kv6Z06777FP50o8C03GL/fs/zHDx5skgz1gGvHdaElY0fQw4GiN1XtsDmZKholWzRk49l8E6aSisjc7RyfUDZJAO3QQ0zNgJPylGszLN68SyxG3SVLcFSFw3EEkjLAhYqGHrTs6A1eJ9skTJSFHz8+dtXlmxBZ03W0EG8q8uVX3FZ1STVj+BA6sqSQgvOH6Nu/eqCV64LdFzUXG6Ukwbzt+b/YbXFa1uE5hEu+ITffCirYIm/8qWDmk+j903TiL/yZ82F+ciFAf6Jz/gdpxVYvq/d6ULkaIuzmecHd3yB0aX1h5hSrUH4lXJwnsZOPSF9Y0JOKjfguSBuVZNh0NNFFOv3qA0lONRH6Y915cHwKeOHTwiwTZrw4DbgTm5sVYAwKgfj4+jm5+NTO0mT8bw/6CTztNVO0uxXdCJs4i+n/5UJJYjahCVaUaDbv79mhbNA4OWe2AP+L/fmWDZOs3l7MBhn41FrOO+mrYfsEnY/6Hd7D/NuL03+CY1bvX4y6lxndheMTXrWkzJmxr4rS1C0X+IyGEIRPLhbUm4JxH4HAAD//+ixAZu9AwAA




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";







- path: /etc/systemd/system/kubelet.service.d/10-containerd.conf
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/2yLsarCQBBF+3xFSD9veYWNsEXUVcQQwcRKJEgyxSA7o5PZ4OeLhWJhd+/hnFODOlGP5yzwRCockc3vjotQhbZb7uu23NbhsOrWVblpfAHQC9uFGBU0sVFErxjFMIc3AMV7wtHgdSSZ/5/F/EcIyMNNiM0npsfcOaeJ3UcbvubfKP21yJ4BAAD//2cSLE2uAAAA

- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = "oss/kubernetes/pause:1.3.1"
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "0.0.0.0:10257"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "ranges": [{{range $i, $range := .PodCIDRRanges}}{{if $i}}, {{end}}[{"subnet": "{{$range}}"}]{{end}}],
                "routes": [{{range $i, $route := .Routes}}{{if $i}}, {{end}}{"dst": "{{$route}}"}{{end}}]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.ipv6.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--feature-gates=DynamicKubeletConfig=false 
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=calico

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,kubernetes.azure.com/agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/storageprofile=managed,kubernetes.azure.com/storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
