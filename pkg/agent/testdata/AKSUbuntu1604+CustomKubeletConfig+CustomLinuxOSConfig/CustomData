#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yW32/bNhDH3/VXXFXCtYsyqlPkxYaLeoi6FQgcIG2RAUkm0NJJIiyTKn8kKer87wNpVbZje3G2h2HLU0R+78z73oc6vXwRTbmIpkyXQYBpKSH8LK1KuSgg1ZiUWNWodJJxbZQ80iXkUsHXqRXGhkEQsNrMmZpdjs+4sPfjAoXp9uBHAADg05Fuxgz23pBuKbURbI69N6ANU2a8HQoh6Yc+9o5xk+RSJaw2SSXTmfbLCo36ns6zhOdJznhlFUL/+C2cwPEJsNpQlxFIH+5Y5bIyn3WxgGsfznO4uvI/AqMRhKWsshBuboZgShRe4c99zw2Q+OIi+e387DS5HJ99mnz9ffxrPPmyrKt6lMeKJzNdxGfx+HO8J2POnzAMRbbXrocg2HarbcJdySuE3GpUEN0yFVV8GmX1rIicbrXEahNVXBu9tp6ytES/w1Ra8ltsNt9HGd5GwlYVHL/v9IeQyVXJroZXl4wbh5CDRWGFTCPI3HUI/PFetXpdIdbwzj9nUmDw4JhKCjSJrZ0TbSWu9xz1qP/WPzrVUpFIa2prRpGZ1+60tEBDl1tH0pqlw1IBBy6AdDV+gz6QJl1v4/R7sFv2spbKwGn8y6fxJPl4cT75Ek9OR0IKLgwqlhp+i63aOQyUplLkvHCUUgaU5lKl6BczzFttc2SgOdDvwIU2rKra3RfQ/SlY1uQ9hwUYRCBbLsACCoU10BjCP7pXl/HN4Oh1b9G9wvhGqaPXPRL2oNNpLoT7S5nZlafTgalCNlvdnv3idttdDCAcKH5rHYbHt6JpplUC+it7K40NDCftYnMvPBctXPE9ptZgBo9sIRwMn6Pe9/5YgdVYvEUW6Q+Xgf4cI3I89BmlNSPybgi65Ln3ZfOf/wxfTdlAJZzWs2IwOK8Nl0IPBqNwPda/yygVkjYRVGEq53MUmXaEkh8fHvbg8c/6v6FYskBW/djY3XxHPBOY1oj9NV6H5MN12DI1fBqq2qpi+2X1P0fKF30gUP8+OIfR0dT0dxhwX0mJrQvFsp8obEwtp1vX7JxcTkAbQTO/DkBhDwaHI3Bo+/dPq/b7S5fyzn0R+dW1+bVemQt+PMh2WPO8cdZOp12ZtsH7K3lwIJUbPG4NMU9cw9tu2jY8WRthOzl7GZ9/DP4MAAD//wot+8SzCwAA


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SQ34/SQBzE3/evmGxWaSNfC/p2CZgLNAYTqYGS3IMJWbZfoVq7dX9cUM//3QCeXNQQr0/dndn5ZCbb1G220X6HzHYh09+i48zYNui6Zeezztnb2te2fe53GI+R3WqXNXZ772yiD+zobGvsFi/GT4civ5mV60kxzUfqlfBffeDPJjQgai11essO1MAHHaLHp7jhhsP/AMh4JhtDF8OZVazKd6typJId6wpk8HIwGEA+MkumYlleL8p1OXubj1TCZmch1Slc4g4mBlCFXr8H+gAa4g4n4DAV+U0+WZWzYr6erhbXh5/7BJUkKql0YDx74lMQfp2oglRnoDzKaZoK8WZZzNfLcjGbvx6pBB+/gFq8F/jrI9JuCzaQ6vfc8oLTdg/6XAh0kBf16gj8s/C/n/S+5/s6TGzFV1Bs+iiOg19B2a6P3DnrDoLrI9+zmUanQ23bw1X1o4dUnDZ8MIngfR1wLvwzAAD//3J4YiDDAgAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySzW7bMBCE73yKhZBDe2DYv1ugQ9IoqREjDSwHOdiGQVFre2uKEsil47TpuxfyT1rHClAed+ebGQI7unfEE3GJwXhqmGqX3sQCLbL4WruS2smd5kW2psAhVTF4ZWujrSrIqeVOKsQoR78igxMxwMDac6rto34KInMr8rWr0PEVWUwVslElznS0/MLn0RgMIVsT56w5hvTjl88iW6PJW687j+kmr9BhAapuWOmf0aMytWNNDn3YW52GRQdXLUvyIBtQK+2VpeIl+X+0xtFbXaSBhGYwgpN3VR0dwzPMPTYwTl4njRN4hkcD0r4HaRE+wATOgBfoYBu7waUsyJVHNY8HZzCjpKv9zqbSS5RhoT0eu4lDTqrQkliwLiwGkAxOtx6WAndKqXktdbFCT2YP/aXeuBgYC9g9KdG1bjKgX6E/2Li6RGl1gTakycmvm/uLrJ8Np7ffL7Np//wi6+e/kwNglX6Cw0FtY4WysXFOTpbktwfY1vAOGYPaKraCcMCa2s1oDl0Xu12d/gi1+wc52Re86p9f512LQXbdy4fZYPOFjvFDb/htOjzv3Q5zIUY9F1hbOxEP2jGWF09pFS2TjAH9KWs/R/4TAAD//8iFB9zAAwAA




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";





    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
    }






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--azure-container-registry-config=/etc/kubernetes/azure.json --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure 
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=
    KUBELET_IMAGE=hyperkube-amd64:v1.16.13


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=1638499
    net.ipv4.tcp_max_syn_backlog=1638498
    net.ipv4.neigh.default.gc_thresh1=10001
    net.ipv4.neigh.default.gc_thresh2=10002
    net.ipv4.neigh.default.gc_thresh3=10003

    # The following are sysctl configs passed from API
    net.core.rmem_default=456000
    net.core.wmem_default=89000
    net.ipv4.tcp_tw_reuse=1
    net.ipv4.ip_local_port_range=32768 60999
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
