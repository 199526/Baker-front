#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yW32/bNhDH3/VXXFXCtYsyqlPkxYaLeoi6FQgcIG2RAUkm0NJJIiyTKn8kKer87wNpVbZje3G2h2HLU0R+78z73oc6vXwRTbmIpkyXQYBpKSH8LK1KuSgg1ZiUWNWodJJxbZQ80iXkUsHXqRXGhkEQsNrMmZpdjs+4sPfjAoXp9uBHAADg05Fuxgz23pBuKbURbI69N6ANU2a8HQoh6Yc+9o5xk+RSJaw2SSXTmfbLCo36ns6zhOdJznhlFUL/+C2cwPEJsNpQlxFIH+5Y5bIyn3WxgGsfznO4uvI/AqMRhKWsshBuboZgShRe4c99zw2Q+OIi+e387DS5HJ99mnz9ffxrPPmyrKt6lMeKJzNdxGfx+HO8J2POnzAMRbbXrocg2HarbcJdySuE3GpUEN0yFVV8GmX1rIicbrXEahNVXBu9tp6ytES/w1Ra8ltsNt9HGd5GwlYVHL/v9IeQyVXJroZXl4wbh5CDRWGFTCPI3HUI/PFetXpdIdbwzj9nUmDw4JhKCjSJrZ0TbSWu9xz1qP/WPzrVUpFIa2prRpGZ1+60tEBDl1tH0pqlw1IBBy6AdDV+gz6QJl1v4/R7sFv2spbKwGn8y6fxJPl4cT75Ek9OR0IKLgwqlhp+i63aOQyUplLkvHCUUgaU5lKl6BczzFttc2SgOdDvwIU2rKra3RfQ/SlY1uQ9hwUYRCBbLsACCoU10BjCP7pXl/HN4Oh1b9G9wvhGqaPXPRL2oNNpLoT7S5nZlafTgalCNlvdnv3idttdDCAcKH5rHYbHt6JpplUC+it7K40NDCftYnMvPBctXPE9ptZgBo9sIRwMn6Pe9/5YgdVYvEUW6Q+Xgf4cI3I89BmlNSPybgi65Ln3ZfOf/wxfTdlAJZzWs2IwOK8Nl0IPBqNwPda/yygVkjYRVGEq53MUmXaEkh8fHvbg8c/6v6FYskBW/djY3XxHPBOY1oj9NV6H5MN12DI1fBqq2qpi+2X1P0fKF30gUP8+OIfR0dT0dxhwX0mJrQvFsp8obEwtp1vX7JxcTkAbQTO/DkBhDwaHI3Bo+/dPq/b7S5fyzn0R+dW1+bVemQt+PMh2WPO8cdZOp12ZtsH7K3lwIJUbPG4NMU9cw9tu2jY8WRthOzl7GZ9/DP4MAAD//wot+8SzCwAA


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SQ34/SQBzE3/evmGxWaSNfC/p2CZgLNAYTqYGS3IMJWbZfoVq7dX9cUM//3QCeXNQQr0/dndn5ZCbb1G220X6HzHYh09+i48zYNui6Zeezztnb2te2fe53GI+R3WqXNXZ772yiD+zobGvsFi/GT4civ5mV60kxzUfqlfBffeDPJjQgai11essO1MAHHaLHp7jhhsP/AMh4JhtDF8OZVazKd6typJId6wpk8HIwGEA+MkumYlleL8p1OXubj1TCZmch1Slc4g4mBlCFXr8H+gAa4g4n4DAV+U0+WZWzYr6erhbXh5/7BJUkKql0YDx74lMQfp2oglRnoDzKaZoK8WZZzNfLcjGbvx6pBB+/gFq8F/jrI9JuCzaQ6vfc8oLTdg/6XAh0kBf16gj8s/C/n/S+5/s6TGzFV1Bs+iiOg19B2a6P3DnrDoLrI9+zmUanQ23bw1X1o4dUnDZ8MIngfR1wLvwzAAD//3J4YiDDAgAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySzW7bMBCE73yKhZBDe2DYv1ugQ9IoqREjDSwHOdiGQVFre2uKEsil47TpuxfyT1rHClAed+ebGQI7unfEE3GJwXhqmGqX3sQCLbL4WruS2smd5kW2psAhVTF4ZWujrSrIqeVOKsQoR78igxMxwMDac6rto34KInMr8rWr0PEVWUwVslElznS0/MLn0RgMIVsT56w5hvTjl88iW6PJW687j+kmr9BhAapuWOmf0aMytWNNDn3YW52GRQdXLUvyIBtQK+2VpeIl+X+0xtFbXaSBhGYwgpN3VR0dwzPMPTYwTl4njRN4hkcD0r4HaRE+wATOgBfoYBu7waUsyJVHNY8HZzCjpKv9zqbSS5RhoT0eu4lDTqrQkliwLiwGkAxOtx6WAndKqXktdbFCT2YP/aXeuBgYC9g9KdG1bjKgX6E/2Li6RGl1gTakycmvm/uLrJ8Np7ffL7Np//wi6+e/kwNglX6Cw0FtY4WysXFOTpbktwfY1vAOGYPaKraCcMCa2s1oDl0Xu12d/gi1+wc52Re86p9f512LQXbdy4fZYPOFjvFDb/htOjzv3Q5zIUY9F1hbOxEP2jGWF09pFS2TjAH9KWs/R/4TAAD//8iFB9zAAwAA




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";





    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
    }






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--azure-container-registry-config=/etc/kubernetes/azure.json --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure 
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=
    KUBELET_IMAGE=hyperkube-amd64:v1.16.13


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=1638499
    net.ipv4.tcp_max_syn_backlog=1638498
    net.ipv4.neigh.default.gc_thresh1=10001
    net.ipv4.neigh.default.gc_thresh2=10002
    net.ipv4.neigh.default.gc_thresh3=10003

    # The following are sysctl configs passed from API
    net.core.rmem_default=456000
    net.core.wmem_default=89000
    net.ipv4.tcp_tw_reuse=1
    net.ipv4.ip_local_port_range=32768 60999
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
