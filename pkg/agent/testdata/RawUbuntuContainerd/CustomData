#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SSX4vTQBTF3/MpDmG0CXaM1bdCK0s6SAVbaVLYByFMJ9c2GjNx/ixV1+8u6fYf7lpqniacO7/DnHOTVdUkK2k3SHTrEvnTG0qUbpysGjI2aY2+q2ylm5d2g/EYyZ00Sa3Xh8naW0eGn8Zqvcbr8fNBIG6neZHOJ2LE3gb2h3X0TbkanDeat3JNBryGddJ5i69+RTW5awy4ssS1d613J6/5Mv+4zEcsUtL9N+EeG5IleIM3r+Igy28WeZFPP4gRi0htNEL2gA9xD+UdeIlevwf+GXxwvDyIgzQThbgV6TKfzmfFZLm46Q4HCosiFpXSEV48szE49n+8RMhOpuFOjuM4ePBOM4FcO1lDbEl5V+kGE29kdxiypy0BS0o3pQ2vCpQOYF7uwfa8xb/p2bUx/4MbB8H7bD4rsnwxnb0bsQhfvnfhfwrw6ONcmjVIIWTHdQovTOr2rK0LQIPwol7uDB+9/Ok7vV9iW7lUlzQEI9XHfLdbQzDd9iGM0aYTTB9pJo4tHkq0nVb+7mHfODsLJ6Bt5XB6+p8AAAD//9CDYZutAwAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_cis.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6yWbW/iRhDH3/tTzHHWOWnjGOnSnHoRJyEgF0t5QDhqempatHjH9ir27mp3zUMD370yBmNSIoUcvECeh/3t3zNjez9+8EaMeyOiE8siWrOYD4Qw/YejY3i2AFgEsUIJzj9KCPP1rw+//P3VAQ9N6OmEUDG5AJMgtwAAgvb1fcs+EhK51ikowim4I6Lx/Ax+Oy5Tep1B79Wkz1/KrM5Nt9VgmRTKQKhm0pxAjEYSrU9ATugFSMX4KnS6/D9y7BLtnIDzaJ8/2nah5tF2jhtL5FU7uGrZR3JmEsHBDaFhd266jWNrGcUwEeAs79Cxi1SYg5dr5emiOGFSbD2h4CLM54BTZsDuDQbDjh8M20Hgf78dXvrXvWG/N7jxg8C/u7UAImYt1iW9ZCn2UWVMaya4XtUWoFgVtEqFJDfJaSri0kgNKk4MG6OunGEqcuoyzswOlytyI/NNhBLMBN+Y8imujCdUm0hKtFlfTwiJkW8geqbXlzknxiCnSN1cxopQ1N4O3+me+e6WMPJvrtAdczQukyTb5TeYYoZGzV4EQ84ywZkRaseqzZ2PXarYGDdJo1SMolzjq/4oxelYpC7j2pA0raWkhFMdEomenmnGI1FFyo5GQi07DIyD/bzs9eICqFgG1+3vt++vWg1vTJSXitgr8xaNKqfrD1r2EWWKkwyhUcaLRYvGcZWUPVGmwJVgP3f9wWKPKS1/RuRhAjX23oQwyQSF87PmuylUcCzLxjiFdUHANTOJEIErUWXgeOJX5YCLUwxXezqxO5meCFdNpg48L+DxwqoJajbLl1X5BLt7KXqBKN93P4WIlcjluwhnZyWBYkTy1Hixykd7cYphjFiKkpikGMglLVSCGzLaGKeJyFU6qzkoYVv2BPFpy5EJbpLtJbUhL+U3iwrY1fZ7j8XCsjSa/kNvKpkihgm+eoVqpOAyaOh5vx0Ew5v2n8Nu+0cwn8eNUlAqYsZPKUZ6x679/vWPYbHw4W7QHXbubi/97xasPnhbQOd/tE+f3kh7KdG/PbDEFfAgEv3bdufe/6PX2shbT1yuURFK99VYEZ3duDeLLL/RW12B35sOfPt20E4vme8G1kWu+gJfDqexhvxJiVVbPtdKeKhWf26+0uw3Aotzk5TprOMH1XO+9fRbAPWzamW+OGfVQZb1sXd3af0XAAD//0UaPRLwCgAA




- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySz0/bThDF7/4rRhGH7/ewbOmPS5EPUAyNiCjCQRxChNbrgYyynnV3Z0No6f9emRAgYKT6ZM++z5vn1ZucM8k0O8BoA7VCnvPjVKFDyb55rqmbnBqZFUuKEnOdYtDOW+N0Raznj9Ism5QYFmRxmp1hFBMkN+7W3MWs4AUFzw2yHJLDXKNYXeO1SU6e+DJZizEWS5JSjKSY73z+lBVLtGXndRowf9hXmTgD7VvR5lcKqK1nMcQY4tpqO856uGZeUwDVgl6YoB1VT5v/RWuZ3suiLAzoGiaw9V/jEwvcw03AFi4HrzddDuAebi0o9z8oh/ABprALMkOG1doHXKmKuH4T8+1gF65p0Jf+0aYxc1RxZgK+dcs2OaVjR2IlpnIYQQmw6TwcRemVUvtayqnBQHYNPVPvNAYuM3h8lELu3FTEsMCwccK+RuVMhS7mg63fx+f7xagYX538OCiuRnv7xaj8M9gAFvlHUOqpFiokFmowD9h4QVDrgQr4M2EU1X34JPnOl6YPVMh164klT0zLr1rrkPi5dvWL1+3o7XwzjHepQdW6dEOsagqr8ndXEBgFo14pVoL4gt1a/+nhaO+o7Ds4K46G5bg4e7iLnvHFcPz9arw3PBmXWTYZchTj3DS7MCxY79/lTXJCKkUM22LCDcrfAAAA//8PqjOJCQQAAA==
- path: /etc/systemd/system/update-node-labels.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/zTOMUsEMRDF8T6fYsF6bwTrFIJ7jYLgctVxRZJ94QbjZJlMDvHTy65e93jFn9/5JGwX94KWlFfjKv60LsHQhrcQUdqQqw6vPUIF2yt1gXvOBvWfPaLADg164wR3nv/GxX2gWVDzVcYcuHTF/ZqR/NOjm+TGWuULYkcu8ARLtCCHXoz+u276Rpr3DkUWiqFdB6qrUfjpCkpVLLBAG/WdPG62sezsQ7u6h+n96H4DAAD//3J4IXXhAAAA

- path: /opt/azure/containers/update-node-labels.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5ySS2vbQBSF9/MrThSBZGohaHduvXBqpYT4UfxYpcFI1pU1VJox85Bpk/73ogeO7ZoWupvRmXvvd47u7U1otQoTLkISFZJY54zdYr1PY0MakzihQiOTCibnGo82ISWoloRMCX6cphqx+IGSa83Frg/blUqTk9IwEoIOpA2quLCk+0isgaCKFBSVsiKNopnSY0yTQUBWYs/3lMW8YGw2H0eb2WgaDV2ftrmE6+dSGxGX1MMrjILzNLD7PanBs1OfC3lozj3GmvdOA8TFrhvTmHFfjn1/OYzdzxfT0WoVjTef14tFNFttGnkyuosmy6Hrf7cJbU3RdkAQNHcpMr5DWMUqLHgS1t8KMuGJFgQF12ZolKU2Lvc4Fa/QUpkj5NYqRcK0zzpQv35BaW8A9+WvhOcWToTNar5Zfx2PVm/pPa7vokl0Vt7G6PU9eN+Ed0l2SmRk93vhZ1KVsTGUvrtKeRWi5pw+LJcPsy9v2W5lWSL48B6fOsJ/NOlo0dL2rpRdSeiyqL3Wbj14R6vdDndua0PntDU/z/CEGwQ/4bjnqoPnjzA5CQb898LIitRBcfPnwlxMYxlnt9H8nv0OAAD//5CfybHCAwAA



- path: /usr/local/bin/health-monitor.sh
  permissions: "0544"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6RWXW/bNhe+5684YYQXTgtZloH0HdIqF+uMdej6gbnZLtrCoKkjizBFCiSVJjX83wdKlG3FToptvrEknq/nOc850vlZ0liTLIVKUN3CktmSkHP4VAoLlhtRO9BGrIRiDnNgDkrnanuVJCvhymY55rpK1s0SjUKH9vByKfUyqZh1aBIum/Z/xTFZcZGUyKQr40or4bQZ25KcA1M5lMzCElFBpXNRCMyh0AbY2saoVkLhmBCLDmINSjfKoutva1FjwYQkhGvlmFBoFqZRTlS4CFmEWo0uYEMApOZMQmygYncL5hxWtbPZ5e4kPMrSQ9vjuIpVmEUpIQCigM+fIdqcNtpClgHdneUUvn59Ca5ERQD6FB0lvES+XnBdVUzlGeXOQBz7GLZmHGH9kx0Lva8FpLCOEgCUFuFH0XLN12igtt6jEL5wX6UEX6luHLyYQLQ54bqFa0hyvE1UI+VLyHWbSRQwGvVkeYiHdMLFxQFEAOSlBvqO3e0cos2h/RYMMl5ifgYfjeaIuVArcBpC9w4wB2oDRqHQ2jENaZYG2bq9LgTZ5436pEIJJ/Ythi/0NOAv9Aw+mXtfA1sxoUAo2AWxyLXK7Xgc0lqJWAONRiOYwrNnffDnz+HiwlvkWiEB+FYKieBMg4cUnv1T9o9IfX3EzONC9DOC+VlPV6dbGp02p0/r1v/qtZAS4vlvv97M/0j3Tcr7Cne6PGHd6bE3DQ0DsPfWYcWdhM489n/xt1Jnle8EfRRdj6rrRzqdkL6EwQGNNvPfZ7OPi/ns9Yf3v8yDX5u/bdWWEL/HJLrj3dFR/hcTrl1NU6iEahza9i54edkuEYpGcSe0YtInOCxqsICCmrJ0f6IbVzcuo/QJ1QSbaMQbIyGuPKyDcFsKcQGxhXjeruyrJEmn/x9PxpNxepVOppeXYQl/h+n1/9ITwxp1GQZSexsACguN6vzvd2J60LdAxoD6F/+hJb1WzynE0kF6KMauuhvLVngFRy8XeLUTTBwEk4TqrtvleSccpMRvRK6rWitUzi/2PuNm93T7YCT6cIPJ6Nzi7xBNhwPzgyqPosKrbkKS/Vhdd8SEigNDR+OQRdMWzdubn2eLNx/ezTLavuVbdfl3Pe2OZu//zGiCjic5FqyRrqUlRnVLA3iI0RPQW28HQK1uDH9w3uYd9NILm3TQ544ZB/tvhEAC7KesHaMB4eTftuGpD4FTG3JLUD6aKshlkOB4R5Ag7A7tm5PgdpEHMP1EKe3ANnWtjWtXdCHI3wEAAP//Ahp+HJ4JAAA=

- path: /etc/systemd/system/kubelet-monitor.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/zSOQWrDMBBF9zrFXKBRewAtCs0FYroKWUzkbzRYlopm3Nq3L1jx7g3M+7z7dxF7uC9obPJjUktg6kyW2CgmxFlpXp/IMErgbIm4jNSgxs2UZKICjBjd52Ro4fV7UbRfiXD3ocPD3boSOP/xruc5IIaPd3fDwlKOiesmFnaou26Iw6H4VZvPNXL2Tym+d7wttYjVdtF0Fv4HAAD//zPpD7jRAAAA
- path: /etc/systemd/system/containerd-monitor.timer
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/2TNsUoEQQwG4D5PEbC+Qx9gmkMFqytULJYt4mxuDcwkkvlX2LeXre8Fvm/6dMNMzzpq2i8svAjDuibjR8CLNtkH13CIueZy6uGGSL5ldB6QhPnKiOAR4Sw3aPJ3BGj6OJyZjqLcC+eh+WdV6eqXCLxrLU+P3ZymNx+Q1mb6Eocul730rcFO29A8Q3JV0MPL9ZX+AwAA///mjopvvgAAAA==

- path: /etc/systemd/system/containerd-monitor.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/0yOwUoDQQyG7/MUAc/t6gPMQXC9Cl08lR7i7F8muJuRJNX27YUOst6+QL6f7/iuEqf0Ai8mXyFNM1NnispBpaJ8OpWmwaKwmSp4iUqsMxk82MJJzqTAjDk9nwOWt/e9w76lIB2nDqd06Fbm5Ydv/ndOKPnpMR2wsuh9ZbxK5Bs8jVeU6a4MF7dhaYWX4UN06Cm7talEs73XrXNnFw1Z8a88PYxvr+k3AAD//2M1InfyAAAA
- path: /etc/systemd/system/kms.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4SQPW7jMBBGe55CF5DoclcAi13sFmltBykcFzT92RmIP8rMUI5y+sB20ggB0hB8Dw8zwOweM+ne/IMEplGpZOffK2NIYtZ4rcQQdyxhAHcCnijA/Dkp2GXopfDQlhwpo1PPZ6gxu8292pvtPMIJpTHCrCHqWZ2PFz+L2VJCqbq5ug2CW5n/bwg3dLYK2wNle9/acM3Ns2mats1Q91JEP3EqsSY4W0btr89CQ4Md6gGcoZB+wd/EItEGsIoNvr1+6ETBK6QLrP3PyWLk5NlGOtiL92dk7ZfilqfAXaLARcpJu1CSHX6JHZLYAfPka9R+WnWr7rcxu4cs6mPcmyefFce/s0s1KrVVwF/n/wgAAP//Goll9c8BAAA=

- path: /etc/apt/preferences
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/wEAAP//AAAAAAAAAAA=


- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";








- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = ""
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "127.0.0.1:10257"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
