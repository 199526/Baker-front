#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yWUW/bNhDH3/UpriqR2kUZxSmyhxju6sLKFiBIhrRFBiSZQEsnibBMqiQVJ4j93QfSimzH9uJsD8OWp4j888z73488vn0TDLkIhkznnodxLsH/KisVc5FBrDHKsShR6Sjh2ii5r3NIpYLvw0qYyvc8j5VmzNToqn/GRXXfz1CYVhsePQAAF460Emaw/YG0cqmNYGNsfwBtmDL99aXgk47v1k4YN1EqVcRKExUyHmk3rNCoh3icRDyNUsaLSiF0Dg/gCA6PgJWG2ohAOjBhhY3KXNTpFG7ccp7C9bX7Eej1wM9lkfhwe9sFk6NwCrfve26AhJeX0a8XZ4Poqn92ev799/4v4fm3eV7FsziVeDHSZXgW9r+GWyKm/AXDUCRb7Zp53rpbTREmOS8Q0kqjguCOqaDgwyApR1lgdYshVpqg4NropfGYxTm6GabinN9hPfkpSPAuEFVRwOGnvU4XErlI2ebw7opxYxGysCgskGkEmdoKgdveu0avC8QSPrrvRAr0ZpapKEMTVaV1osnE1p6j7nUO3KdVzRWRrExZmV5gxqXdLc3Q0PnUvqzM3GGpgAMXQFoaf0AHSB2uvbL7LdjNa1lKZWAQfjntn0cnlxfn38LzQU9IwYVBxWLD77BRW4eB0liKlGeWUsqA0lSqGN1ggmmjrbcMNAX6AFxow4qimX0DrSfBPCfnOUzBIAJZcwGmkCksgYbg/9G6vgpvj/fft6etawxvldp/3yZ+G/b26gNh/2JmNsXZ24OhQjZanJ7t4mbaHgwgHCj+aByG56eiLmalBHQW9hYaaxiOmsH6XDguGrjCe4wrgwk8s4VwMHyMetv9sQCrtniNLNLpzhe6ffTIYddFlJXpkY9d0DlPnS+r//xn+KrTBiphUI6y4+OL0nAp9PFxz19e6+4ySoWk9QqqMJbjMYpEW0LJ4+fZFjz+Wf1XFHMWyKIeK7Ord8QrgWmM2J7jjU8+3/gNU92XoSorla1fVv9zpFzSOwL174OzGx11Tn+HAftKiqoyUyx5QmGla1ndsmZj57ICWgvq/rUDClsw2B2BXcu/vVs17y+dy4l9EbnRpf61nJld/LyRbbDmde2s6U6bIq2D91dyb0cqV3hca2KOuJq3zbSteLLUwjZyVrs9wOFvLB6xDE+UHJ/wYnHvDMIv0cnpWdgjnVe/o+0z+qeDg0WFH2yRny5L8vgUewaUsqKQE5rIiXA710vPa/IzUIFwsP4cXvEq5d7MextenHh/BgAA///YZQoThAwAAA==


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SQ34/SQBzE3/evmGxWaSNfC/p2CZgLNAYTqYGS3IMJWbZfoVq7dX9cUM//3QCeXNQQr0/dndn5ZCbb1G220X6HzHYh09+i48zYNui6Zeezztnb2te2fe53GI+R3WqXNXZ772yiD+zobGvsFi/GT4civ5mV60kxzUfqlfBffeDPJjQgai11essO1MAHHaLHp7jhhsP/AMh4JhtDF8OZVazKd6typJId6wpk8HIwGEA+MkumYlleL8p1OXubj1TCZmch1Slc4g4mBlCFXr8H+gAa4g4n4DAV+U0+WZWzYr6erhbXh5/7BJUkKql0YDx74lMQfp2oglRnoDzKaZoK8WZZzNfLcjGbvx6pBB+/gFq8F/jrI9JuCzaQ6vfc8oLTdg/6XAh0kBf16gj8s/C/n/S+5/s6TGzFV1Bs+iiOg19B2a6P3DnrDoLrI9+zmUanQ23bw1X1o4dUnDZ8MIngfR1wLvwzAAD//3J4YiDDAgAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySz0/bThDF7/4rRhGH7/ewbOmPS5EPUAyNiCjCQRxChNbrgYyynnV3Z0No6f9emRAgYKT6ZM++z5vn1ZucM8k0O8BoA7VCnvPjVKFDyb55rqmbnBqZFUuKEnOdYtDOW+N0Raznj9Ism5QYFmRxmp1hFBMkN+7W3MWs4AUFzw2yHJLDXKNYXeO1SU6e+DJZizEWS5JSjKSY73z+lBVLtGXndRowf9hXmTgD7VvR5lcKqK1nMcQY4tpqO856uGZeUwDVgl6YoB1VT5v/RWuZ3suiLAzoGiaw9V/jEwvcw03AFi4HrzddDuAebi0o9z8oh/ABprALMkOG1doHXKmKuH4T8+1gF65p0Jf+0aYxc1RxZgK+dcs2OaVjR2IlpnIYQQmw6TwcRemVUvtayqnBQHYNPVPvNAYuM3h8lELu3FTEsMCwccK+RuVMhS7mg63fx+f7xagYX538OCiuRnv7xaj8M9gAFvlHUOqpFiokFmowD9h4QVDrgQr4M2EU1X34JPnOl6YPVMh164klT0zLr1rrkPi5dvWL1+3o7XwzjHepQdW6dEOsagqr8ndXEBgFo14pVoL4gt1a/+nhaO+o7Ds4K46G5bg4e7iLnvHFcPz9arw3PBmXWTYZchTj3DS7MCxY79/lTXJCKkUM22LCDcrfAAAA//8PqjOJCQQAAA==

#Question, need conditions?
- path: /etc/systemd/system/mig-enable.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/xzLzWqEMBAA4Ps8xUDPVn2AHFpqxUN/wEoP4iHGWXcgTiSZyPr2y+754xsHYZ3gg5KLvCsHMY3Y2RN+dS26IBdec7QPwCD4ffDCFt/qqsL2dwAYe4oHO5rg79zJBKF0DQrNjVyvNqopc4rlzFLKsxZpYyw2XrEGGDtJar2f4N+K0vJ+mi175SIniq9q40oKL83P5z0AAP//9rqGNKYAAAA=

- path: /etc/systemd/system/mig-partition.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/0SOy27yMBCF9/MUlvi3wfAAXuRXKcqCiyCoC4QqE4Zk1GRsjceI9Okr0kV3R0ffuZxPTHqBN0yNUFQK7MoY+9FsqrVpAt+pzeJfvglstg+6kTflcrEw6/0JyruiuK98xR51nlAe1CDA+firLlCPEV1gTF1QOODgiafM6knqRkywemJzVC+6F3Q2J7FXYsvTTpEGMsVArVn+cW4Crj51xoao1n9nQdsEVk+MkuxAbRG9KL1Oz1NnYPZvU60/9+Whrupqt4WaBgxZp7ojNm4BcK44qe/7C3x4Vrz9H92Qe6UiJ5S5emlRYbbavf8EAAD//yNmUdEwAQAA

- path: /opt/azure/containers/mig-partition.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/1JW1E/KzNNPSizO4OJSTs1LTMpJVfD1dFfIzU9J5VLOK8tMyUzULc7NVNDNzUxXMORCEgEJ6CanZypY6lhiiidnKgACAAD//+7MgZhdAAAA




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";








- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = "oss/kubernetes/pause:1.3.1"
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        snapshotter = "teleportd"
        disable_snapshot_annotations = false
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
      
      [plugins."io.containerd.grpc.v1.cri".cni]
        bin_dir = "/opt/cni/bin"
        conf_dir = "/etc/cni/net.d"
        conf_template = "/etc/containerd/kubenet_template.conf"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "0.0.0.0:10257"
    
    [proxy_plugins]
      [proxy_plugins.teleportd]
        type = "snapshot"
        address = "/run/teleportd/snapshotter.sock"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": false,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF


- path: /etc/systemd/system/teleportd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=teleportd teleport runtime
    After=network.target
    [Service]
    ExecStart=/usr/local/bin/teleportd --metrics --aksConfig /etc/kubernetes/azure.json
    Delegate=yes
    KillMode=process
    Restart=always
    LimitNPROC=infinity
    LimitCORE=infinity
    LimitNOFILE=1048576
    TasksMax=infinity
    [Install]
    WantedBy=multi-user.target
    #EOF

- path: /etc/systemd/system/ensure-no-dup.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/zyNvUoEQRCE83mKBuO9AfMNDjxTwcXouGB+ar3GvZ6hu0fEpxeV26z4qqjv/Cbsl/AEK8rducl8rJUq6uiE7ClvIB0bjNam9DEyBE5Zub6DWKhru7GV0YbRrVWE4+rQuTTxxAKtB4N+crkXvw8bfKfn5T9cwivMk/rcZFoTb0NxRwvK/BhOXyjL3yJmlpiTXSm27jF9D0XcjRYhNhSTtKmOfrBreDi9PIefAAAA//+1G3Iw6wAAAA==

- path: /opt/azure/containers/ensure-no-dup.sh
  permissions: "0755"
  owner: root
  encoding: gzip
  content: !!binary |
    H4sIAAAAAAAA/7xVXU8bRxR9319xWCMVN1ovpJHSUtHKAiqhhmAFeAIeZmeudwdmZzbzYeKC/3s163Vih01KKiVv9nycc8+5d88MtvJC6rxgrkqSASzVZkbwlXSQU9wTmCVoA2V0SRbBSV2isaaWjgcTHAorRUmojSBMjQU32jOpyYpkgILxu9KaoMV+xCrJQ4RGSc48CTSM35F3mFpTozEC3sCRnUlOJ5NIXxhftQUYDV8RHKtjMYKwYzQt78V1XtjdVSFMC2xsRmDZQHpHaoqZZLgjq0lBBIqM62JaFQVFjUYPk0Es2lUmKIGpVJ4sTPAt6keKJXwy6DxzoA+MezXHfcU87kJBKqo25Fp7hOF3ZF0l6xdxT5NPBqi8b9x+npfSV6EYcVPncdNq8uTWfzZBqfzlr6/3XicJFZ4Vihwyvyoue4Px3+fZ0fHR5SSbvDs7PTk/xMs/ckGzXAelEjnF1RW2/0RG77GLm5vfoxidAADxyiB9et8GRWDKEhNzOPLp8vQH6bGbTGWHuYVsipw8z7mWuSY/EvnebvZpGrK4xo2eKul8HzPXMg7PVJbQxiM0mJMfjUaRKTaEmFXzNfK9SJ4su/6W1XSwvcOZ/4Ya8Ijb98gs0lGjQim1u7rBIxwp4n5n5OcN4eAA1+mS4zod4hGj5Z90mHRzc2rEj6JeY0yHne/p9sPa8iLF1gFSbwOlfR5338j2wyfbFq3bUj/5Dr5ifdv3jca7ucu5Ys5F7fkGfs6EsOTcN9XzzO537T+ZHGzvyAaRKX6v958hPqK01CA7NkilJo+dq93st5ufr0fDh18Wy9/pxqm+AyvLs3+i6yvmxfONbkMgqqvYLAYVZDN7hc6e/9TaGHEeCk1+LIT9QRMnG1aPXMv6mfyNavo94G1uRr2CPNla6u5hiQn+k+uSk9VYEsAyXXah+mUhzwyE0/HhyqJnjOYwSZYlMyEi8tMQ7MIWvGJSp73Z+7bn2iB2F5rue/ZaqF6kcc/prMHJZPYKmfs4VKfjwwUygxn56gWyTDaZsxxro4nsFuPDw+PJxXfh2ZyBSHb07mzyBaqzy4vJ5UVb0Vdsah8bb1anW49wG+omLj65uGqbCb4Jvh0KTfdqHuFI9BBFeLff3783K9L1B/P/PLJdRA6Oz/76NwAA//+rs4yxXgkAAA==




- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
