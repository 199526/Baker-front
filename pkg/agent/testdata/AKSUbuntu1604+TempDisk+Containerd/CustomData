[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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







- path: /usr/local/bin/configure_azure0.sh
  permissions: "0544"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SU0W/bNhDG3/lXfJGFqsVmyR720CQQBsF2N6ONEsTZiiFwDVqiLM4KqZJUPNf2/z5QchS5W7ZhexN0d9/9+N2RvbOg0ipYchEw8Ygl1TkhPUyNpyFFsYVgCdOaqi2MRCJFxleVYqBfKsUG4AI/LythKgzf+oPvSaGXC8UKRjVDn2MPulmj/8678ODtSsWFgfvdwWv+ezt3GLrDSxwDw4OHPVaKleh/5nA+VbW06xCe4R7uDzgLMcD8EiZnggAAS3IJb2rANYQ0TzCzNS9bWC5WR1yvqfmdGwxIxskprvo/uHA+1Q78B9i6zv/XzD2McpaswTOr3GQhEfxYa8VNzhTzfR9CQjCW2tGpSsDkXEMnipfGlgtpSA9RoSVSKTyDDRXmJHeTM1GjVrol6ieCk3ucoZ8hYCYJEsEDwYyfBsNBv07xLUrBtcEcr149wVvyeArD6AMemDBcCotKTdPraIrlZSkyqZDQgif2BGYj1RqlLHiy/YuzkNpYJz7Ju4C7iyd3H69v3y9urj9MR78emtHcw/lzBGEIp+nnYH4ytL93foCl4umKWXxaKEbT7fMtSUkPH9nR3O4geAYtfcJLFFysoXO5eZLr+KUqsSiLasXF6zfYHWlKqYz1cTG6vrqK4nHoDutIQs0/j2OP3z7D8wV9YKAabv2xh58I/gtTmktR/348fu/hN/31/fybEDubftFUfYvnmou24tAtGczt/QhkaWom+8Q0C/QomCEHQjqHiW5/nIXe+7ezxc31eBFHV5PZTTSahCnLaFWYy24kbP2NrNwonnrkxJf4LprGk9vpODw/Pz/vxuLJXTwLA1UJa5HQQStFv9i17qRO39W9mMm/FrmJ7n4Ku8cidpC1Hmiawn29pJrV1rq7tuvhTWeeiMZj0j4U/ZX56qVo9VJWwHlJ0Hle0GG9oJ0G48kHcqLyItUfAQAA//+8Xj4iAgYAAA==

- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SUT2/bOBDF7/oUhJHD7oGSnXiLdAsekq3aDRp0i8hFD0kgUNREIkwNtZyh4+x2v/tC/pPWjoumqE/28P3eGw/Iuf6Ilm+T10Am2J6tR/UuVuCAkz881naofNDc5ktLTCqLFDLnjXZZZTGbb6RJcl1AWFgDt8kVEOvASrt7/UBJjgsbPHaA/MY6UBmwyWq409HxI19EY4AoX1ouWHMkNZmeJPkSTDF4fQigVnmVplZkvudM/xMDZMYja4sQaGuVUnuA6+a1DUL2IlvokDlbPSY/R2vQfqsXacTI3olrcfRL5yOy+CyaAL24Ge0n3YzEZ3FvhHS/CulAjMWteCW4BRTr2BUuZWWxftLm08IrcWdHh7rf2HR6DpJaHeCpW5LsgTSQ9ECGnZD3AoFT2y+mKZu+DMDBAh2r0+9DxgdIyXd6aTyimrw4OZ3+QFSnlyU9YFlpM3e+eS6/Su2ASDdQGk+spuMfpKoYiNXp+LmDQbBNm25ucdqYktsA1E7UdPzyxc95HKvTycvjn/M42Yxu10WubaBiXTkgIVmgHu6Ks8QHpbbfl2LsIFizhfbntbsdjMc728QA5eq1joe3+QX4xi4RN4nYfKQEHPIlQVhA2DlBX4N0ugJHanT077uP5/llPivf//U6Ly/PzvPL4r/RDrBQx0LKx4UhQ0S2HagAnWcQcluQAf6OQCyHHz6ymvzWHQIlYN17i6wi2uXvWZaFiF8WUv3V15S8me82413sQPYuNhZlbcN6LQ4jCAgMlK0VawF9xR5t/+mby7O3xaGDq/ztRTHLr1azOFD+dDH7s5ydXbyfFUlyfYHE2rnb5JNGhvr8QXXRsZWRIKSsQwP8fwAAAP//u1qvbCMGAAA=



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";








- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    subreaper = false
    root = "/mnt/containers"
    oom_score = 0
    [plugins.cri]
    sandbox_image = "oss/kubernetes/pause:1.3.1"
    [plugins.cri.containerd.untrusted_workload_runtime]
    runtime_type = "io.containerd.runtime.v1.linux" 
    runtime_engine = "/usr/bin/runc"
    [plugins.cri.containerd.default_runtime]
    runtime_type = "io.containerd.runtime.v1.linux" 
    runtime_engine = "/usr/bin/runc"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promisMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]