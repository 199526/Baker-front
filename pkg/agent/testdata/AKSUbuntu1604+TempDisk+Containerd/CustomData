[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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







- path: /usr/local/bin/configure_azure0.sh
  permissions: "0544"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SU0W/bNhDG3/lXfJGFqsVmyR720CQQBsF2N6ONEsTZiiFwDVqiLM4KqZJUPNf2/z5QchS5W7ZhexN0d9/9+N2RvbOg0ipYchEw8Ygl1TkhPUyNpyFFsYVgCdOaqi2MRCJFxleVYqBfKsUG4AI/LythKgzf+oPvSaGXC8UKRjVDn2MPulmj/8678ODtSsWFgfvdwWv+ezt3GLrDSxwDw4OHPVaKleh/5nA+VbW06xCe4R7uDzgLMcD8EiZnggAAS3IJb2rANYQ0TzCzNS9bWC5WR1yvqfmdGwxIxskprvo/uHA+1Q78B9i6zv/XzD2McpaswTOr3GQhEfxYa8VNzhTzfR9CQjCW2tGpSsDkXEMnipfGlgtpSA9RoSVSKTyDDRXmJHeTM1GjVrol6ieCk3ucoZ8hYCYJEsEDwYyfBsNBv07xLUrBtcEcr149wVvyeArD6AMemDBcCotKTdPraIrlZSkyqZDQgif2BGYj1RqlLHiy/YuzkNpYJz7Ju4C7iyd3H69v3y9urj9MR78emtHcw/lzBGEIp+nnYH4ytL93foCl4umKWXxaKEbT7fMtSUkPH9nR3O4geAYtfcJLFFysoXO5eZLr+KUqsSiLasXF6zfYHWlKqYz1cTG6vrqK4nHoDutIQs0/j2OP3z7D8wV9YKAabv2xh58I/gtTmktR/348fu/hN/31/fybEDubftFUfYvnmou24tAtGczt/QhkaWom+8Q0C/QomCEHQjqHiW5/nIXe+7ezxc31eBFHV5PZTTSahCnLaFWYy24kbP2NrNwonnrkxJf4LprGk9vpODw/Pz/vxuLJXTwLA1UJa5HQQStFv9i17qRO39W9mMm/FrmJ7n4Ku8cidpC1Hmiawn29pJrV1rq7tuvhTWeeiMZj0j4U/ZX56qVo9VJWwHlJ0Hle0GG9oJ0G48kHcqLyItUfAQAA//+8Xj4iAgYAAA==

- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SUT2/bOBDF7/oUhJHD7oGSnXiLdAsekq3aDRp0i8hFD0kgUNREIkwNtZyh4+x2v/tC/pPWjoumqE/28P3eGw/Iuf6Ilm+T10Am2J6tR/UuVuCAkz881naofNDc5ktLTCqLFDLnjXZZZTGbb6RJcl1AWFgDt8kVEOvASrt7/UBJjgsbPHaA/MY6UBmwyWq409HxI19EY4AoX1ouWHMkNZmeJPkSTDF4fQigVnmVplZkvudM/xMDZMYja4sQaGuVUnuA6+a1DUL2IlvokDlbPSY/R2vQfqsXacTI3olrcfRL5yOy+CyaAL24Ge0n3YzEZ3FvhHS/CulAjMWteCW4BRTr2BUuZWWxftLm08IrcWdHh7rf2HR6DpJaHeCpW5LsgTSQ9ECGnZD3AoFT2y+mKZu+DMDBAh2r0+9DxgdIyXd6aTyimrw4OZ3+QFSnlyU9YFlpM3e+eS6/Su2ASDdQGk+spuMfpKoYiNXp+LmDQbBNm25ucdqYktsA1E7UdPzyxc95HKvTycvjn/M42Yxu10WubaBiXTkgIVmgHu6Ks8QHpbbfl2LsIFizhfbntbsdjMc728QA5eq1joe3+QX4xi4RN4nYfKQEHPIlQVhA2DlBX4N0ugJHanT077uP5/llPivf//U6Ly/PzvPL4r/RDrBQx0LKx4UhQ0S2HagAnWcQcluQAf6OQCyHHz6ymvzWHQIlYN17i6wi2uXvWZaFiF8WUv3V15S8me82413sQPYuNhZlbcN6LQ4jCAgMlK0VawF9xR5t/+mby7O3xaGDq/ztRTHLr1azOFD+dDH7s5ydXbyfFUlyfYHE2rnb5JNGhvr8QXXRsZWRIKSsQwP8fwAAAP//u1qvbCMGAAA=



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";








- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    subreaper = false
    root = "/mnt/containers"
    oom_score = 0
    [plugins.cri]
    sandbox_image = "oss/kubernetes/pause:1.3.1"
    [plugins.cri.containerd.untrusted_workload_runtime]
    runtime_type = "io.containerd.runtime.v1.linux" 
    runtime_engine = "/usr/bin/runc"
    [plugins.cri.containerd.default_runtime]
    runtime_type = "io.containerd.runtime.v1.linux" 
    runtime_engine = "/usr/bin/runc"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promisMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]